<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 16: Revision & Proofreading - The Canadian Style</title>
    <link rel="stylesheet" href="../shared/css/main.css">
    <link rel="stylesheet" href="../shared/css/quiz-styles.css">
    <style>
        .editing-levels {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--cs-space-l);
            margin: var(--cs-space-l) 0;
        }
        
        .level-card {
            background: var(--cs-grey-50);
            padding: var(--cs-space-l);
            border-radius: 8px;
            border-left: 4px solid var(--cs-red);
        }
        
        .level-card h4 {
            color: var(--cs-red);
            margin-top: 0;
        }
        
        .marks-table {
            margin: var(--cs-space-l) 0;
            overflow-x: auto;
        }
        
        .marks-table table {
            font-family: monospace;
            font-size: 1.1em;
        }
        
        .marks-table td:first-child {
            font-size: 1.3em;
            text-align: center;
            font-weight: bold;
        }
        
        .checklist-section {
            background: var(--cs-success-bg);
            padding: var(--cs-space-l);
            border-radius: 8px;
            margin: var(--cs-space-l) 0;
        }
        
        .checklist-section h3 {
            color: var(--cs-success);
            margin-top: 0;
        }
        
        .revision-tips {
            background: var(--cs-info-bg);
            padding: var(--cs-space-l);
            border-radius: 8px;
            margin: var(--cs-space-l) 0;
        }
        
        .revision-tips h3 {
            color: var(--cs-info);
            margin-top: 0;
        }
    </style>
</head>
<body>
    <header class="site-header">
        <div class="container">
            <div class="logo-wrapper">
                <img src="../shared/img/maple-logo.svg" alt="Canadian Style Logo" class="logo">
                <h1>The Canadian Style</h1>
            </div>
            <nav class="chapter-nav">
                <a href="../index.html" class="btn btn-secondary">Back to Dashboard</a>
            </nav>
        </div>
    </header>

    <div class="chapter-hero">
        <div class="container">
            <nav class="breadcrumb">
                <a href="../index.html">Home</a> / Chapter 16
            </nav>
            <div class="chapter-meta">
                <div class="chapter-icon">16</div>
                <div>
                    <h1>Revision & Proofreading</h1>
                    <p>Polish your writing to professional standards</p>
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="chapterProgress" style="width: 0%"></div>
            </div>
        </div>
    </div>

    <nav class="section-tabs" id="sectionNav">
        <div class="container">
            <div class="tabs-list">
                <a href="#introduction" class="tab-link" data-section="introduction">16.01 Introduction</a>
                <a href="#structural" class="tab-link" data-section="structural">16.02 Structural Editing</a>
                <a href="#stylistic" class="tab-link" data-section="stylistic">16.03 Stylistic Editing</a>
                <a href="#copy-editing" class="tab-link" data-section="copy-editing">16.04 Copy Editing</a>
                <a href="#proofreading" class="tab-link" data-section="proofreading">16.05 Proofreading</a>
                <a href="#marks" class="tab-link" data-section="marks">16.06 Proofreader's Marks</a>
                <a href="#checklist" class="tab-link" data-section="checklist">16.08 Revision Checklist</a>
            </div>
        </div>
    </nav>

    <main class="chapter-content">
        <div class="container">
            <!-- Section 16.01: Introduction -->
            <section class="content-section" id="introduction">
                <div class="section-header">
                    <h2>16.01 Introduction</h2>
                </div>
                
                <div class="lesson-content">
                    <p>Effective revision and proofreading are essential final steps in the writing process. 
                    They ensure your documents are clear, correct, and professional.</p>
                    
                    <p>This chapter outlines the different levels of editing and provides systematic 
                    approaches to improving your writing.</p>
                    
                    <div class="editing-levels">
                        <div class="level-card">
                            <h4>Structural Editing</h4>
                            <p>Big-picture organization, logic, and content</p>
                        </div>
                        <div class="level-card">
                            <h4>Stylistic Editing</h4>
                            <p>Clarity, flow, and consistency of expression</p>
                        </div>
                        <div class="level-card">
                            <h4>Copy Editing</h4>
                            <p>Grammar, spelling, and mechanical correctness</p>
                        </div>
                        <div class="level-card">
                            <h4>Proofreading</h4>
                            <p>Final check for errors and formatting</p>
                        </div>
                    </div>
                </div>
                
                <!-- Quiz Panel -->
                <div class="quiz-panel" id="quiz-introduction"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('introduction')">
                        Complete Section ‚Üí Structural Editing
                    </button>
                </div>
            </section>

            <!-- Section 16.02: Structural Editing -->
            <section class="content-section" id="structural">
                <div class="section-header">
                    <h2>16.02 Structural Editing</h2>
                </div>
                
                <div class="lesson-content">
                    <h3>Focus Areas</h3>
                    <p>Structural editing addresses the foundation of your document:</p>
                    
                    <div class="examples-grid">
                        <div class="example-card">
                            <h4>üèóÔ∏è Organization</h4>
                            <ul>
                                <li>Logical sequence of ideas</li>
                                <li>Effective paragraph structure</li>
                                <li>Clear transitions between sections</li>
                                <li>Appropriate use of headings</li>
                            </ul>
                        </div>
                        <div class="example-card">
                            <h4>üìã Content</h4>
                            <ul>
                                <li>Completeness of information</li>
                                <li>Relevance to purpose and audience</li>
                                <li>Balance between sections</li>
                                <li>Accuracy of facts and data</li>
                            </ul>
                        </div>
                    </div>
                    
                    <h3>Questions to Ask</h3>
                    <ul>
                        <li>Does the introduction clearly state the purpose?</li>
                        <li>Is the information presented in logical order?</li>
                        <li>Are there gaps in the argument or explanation?</li>
                        <li>Does the conclusion effectively summarize key points?</li>
                        <li>Will the audience understand the document's message?</li>
                    </ul>
                    
                    <div class="revision-tips">
                        <h3>üí° Structural Editing Tips</h3>
                        <ul>
                            <li>Read the entire document before making changes</li>
                            <li>Create an outline of the existing structure</li>
                            <li>Consider major reorganization if needed</li>
                            <li>Don't worry about minor errors at this stage</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Quiz Panel -->
                <div class="quiz-panel" id="quiz-structural"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('structural')">
                        Complete Section ‚Üí Stylistic Editing
                    </button>
                </div>
            </section>

            <!-- Section 16.03: Stylistic Editing -->
            <section class="content-section" id="stylistic">
                <div class="section-header">
                    <h2>16.03 Stylistic Editing</h2>
                </div>
                
                <div class="lesson-content">
                    <h3>Improving Clarity and Flow</h3>
                    <p>Stylistic editing focuses on how ideas are expressed:</p>
                    
                    <div class="examples-grid">
                        <div class="example-card avoid">
                            <h4>‚ùå Wordy</h4>
                            <p>At this point in time, we are of the opinion that it would be beneficial to proceed with the implementation of the new policy.</p>
                        </div>
                        <div class="example-card prefer">
                            <h4>‚úÖ Concise</h4>
                            <p>We believe implementing the new policy would be beneficial.</p>
                        </div>
                    </div>
                    
                    <h3>Key Areas</h3>
                    <div class="editing-levels">
                        <div class="level-card">
                            <h4>Sentence Structure</h4>
                            <ul>
                                <li>Vary sentence length and type</li>
                                <li>Use active voice when appropriate</li>
                                <li>Eliminate awkward constructions</li>
                                <li>Ensure parallel structure</li>
                            </ul>
                        </div>
                        <div class="level-card">
                            <h4>Word Choice</h4>
                            <ul>
                                <li>Use precise, specific terms</li>
                                <li>Eliminate unnecessary words</li>
                                <li>Replace weak verbs with strong ones</li>
                                <li>Ensure consistent terminology</li>
                            </ul>
                        </div>
                        <div class="level-card">
                            <h4>Tone and Voice</h4>
                            <ul>
                                <li>Maintain appropriate formality level</li>
                                <li>Ensure consistent voice throughout</li>
                                <li>Match tone to audience and purpose</li>
                                <li>Remove bias and assumptions</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- Quiz Panel -->
                <div class="quiz-panel" id="quiz-stylistic"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('stylistic')">
                        Complete Section ‚Üí Copy Editing
                    </button>
                </div>
            </section>

            <!-- Section 16.04: Copy Editing -->
            <section class="content-section" id="copy-editing">
                <div class="section-header">
                    <h2>16.04 Copy Editing</h2>
                </div>
                
                <div class="lesson-content">
                    <h3>Mechanical Correctness</h3>
                    <p>Copy editing ensures technical accuracy:</p>
                    
                    <div class="checklist-section">
                        <h3>Copy Editing Checklist</h3>
                        <div class="editing-levels">
                            <div class="level-card">
                                <h4>Grammar</h4>
                                <ul>
                                    <li>Subject-verb agreement</li>
                                    <li>Pronoun reference and agreement</li>
                                    <li>Correct tense usage</li>
                                    <li>Proper sentence structure</li>
                                </ul>
                            </div>
                            <div class="level-card">
                                <h4>Punctuation</h4>
                                <ul>
                                    <li>Commas, semicolons, colons</li>
                                    <li>Apostrophes and quotation marks</li>
                                    <li>Hyphens and dashes</li>
                                    <li>Periods and other end marks</li>
                                </ul>
                            </div>
                            <div class="level-card">
                                <h4>Spelling & Usage</h4>
                                <ul>
                                    <li>Correct spelling throughout</li>
                                    <li>Proper word usage</li>
                                    <li>Consistent Canadian spelling</li>
                                    <li>Commonly confused words</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <h3>Style Consistency</h3>
                    <ul>
                        <li>Numbers and dates</li>
                        <li>Capitalization</li>
                        <li>Abbreviations and acronyms</li>
                        <li>Citations and references</li>
                        <li>Headings and subheadings</li>
                    </ul>
                </div>
                
                <!-- Quiz Panel -->
                <div class="quiz-panel" id="quiz-copy-editing"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('copy-editing')">
                        Complete Section ‚Üí Proofreading
                    </button>
                </div>
            </section>

            <!-- Section 16.05: Proofreading -->
            <section class="content-section" id="proofreading">
                <div class="section-header">
                    <h2>16.05 Proofreading</h2>
                </div>
                
                <div class="lesson-content">
                    <h3>Final Review</h3>
                    <p>Proofreading is the last check before publication:</p>
                    
                    <div class="revision-tips">
                        <h3>üìã Proofreading Techniques</h3>
                        <ul>
                            <li><strong>Take a break:</strong> Let time pass before proofreading</li>
                            <li><strong>Read aloud:</strong> Hear errors you might miss visually</li>
                            <li><strong>Read backwards:</strong> Check spelling by reading word by word backwards</li>
                            <li><strong>Use tools:</strong> Spell-check and grammar-check, but don't rely solely on them</li>
                            <li><strong>Print it out:</strong> Many errors are easier to spot on paper</li>
                            <li><strong>Focus on one type:</strong> Look for specific error types in separate passes</li>
                        </ul>
                    </div>
                    
                    <h3>What to Check</h3>
                    <div class="editing-levels">
                        <div class="level-card">
                            <h4>Typography</h4>
                            <ul>
                                <li>Font consistency</li>
                                <li>Heading styles</li>
                                <li>Italics and bold text</li>
                                <li>Special characters</li>
                            </ul>
                        </div>
                        <div class="level-card">
                            <h4>Layout</h4>
                            <ul>
                                <li>Page breaks and spacing</li>
                                <li>Margins and alignment</li>
                                <li>Tables and figures</li>
                                <li>Headers and footers</li>
                            </ul>
                        </div>
                        <div class="level-card">
                            <h4>Details</h4>
                            <ul>
                                <li>Page numbers</li>
                                <li>Cross-references</li>
                                <li>Table of contents</li>
                                <li>Final typos</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- Quiz Panel -->
                <div class="quiz-panel" id="quiz-proofreading"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('proofreading')">
                        Complete Section ‚Üí Proofreader's Marks
                    </button>
                </div>
            </section>

            <!-- Section 16.06: Proofreader's Marks -->
            <section class="content-section" id="marks">
                <div class="section-header">
                    <h2>16.06 Proofreader's Marks</h2>
                </div>
                
                <div class="lesson-content">
                    <h3>Standard Correction Symbols</h3>
                    <p>Use these traditional marks for clear, efficient proofreading:</p>
                    
                    <div class="marks-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Mark</th>
                                    <th>Name</th>
                                    <th>Meaning</th>
                                    <th>Example</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>^</td>
                                    <td>caret</td>
                                    <td>Insert</td>
                                    <td>The b^o^ok is here</td>
                                </tr>
                                <tr>
                                    <td>‚åê</td>
                                    <td>dele</td>
                                    <td>Delete</td>
                                    <td>The‚åên book is here</td>
                                </tr>
                                <tr>
                                    <td>‚â°</td>
                                    <td>caps</td>
                                    <td>Capitalize</td>
                                    <td>‚â°canada is north</td>
                                </tr>
                                <tr>
                                    <td>/</td>
                                    <td>lc</td>
                                    <td>Lower case</td>
                                    <td>The /Book is here</td>
                                </tr>
                                <tr>
                                    <td>_</td>
                                    <td>ital</td>
                                    <td>Italicize</td>
                                    <td>The _book_ is here</td>
                                </tr>
                                <tr>
                                    <td>~~~</td>
                                    <td>bf</td>
                                    <td>Bold face</td>
                                    <td>The ~~~book~~~ is here</td>
                                </tr>
                                <tr>
                                    <td>‚üÇ</td>
                                    <td>¬∂</td>
                                    <td>New paragraph</td>
                                    <td>The book.‚üÇThe story</td>
                                </tr>
                                <tr>
                                    <td>‚åí</td>
                                    <td>run in</td>
                                    <td>No paragraph</td>
                                    <td>The book.‚åí The story</td>
                                </tr>
                                <tr>
                                    <td>‚üê</td>
                                    <td>tr</td>
                                    <td>Transpose</td>
                                    <td>The‚üê book si here</td>
                                </tr>
                                <tr>
                                    <td>‚óã</td>
                                    <td>sp</td>
                                    <td>Spell out</td>
                                    <td>The ‚óã5‚óã books are here</td>
                                </tr>
                                <tr>
                                    <td>#</td>
                                    <td>space</td>
                                    <td>Add space</td>
                                    <td>The#book is here</td>
                                </tr>
                                <tr>
                                    <td>‚åê‚Äø‚åê</td>
                                    <td>close up</td>
                                    <td>Remove space</td>
                                    <td>The‚åê‚Äø‚åê bo ok is here</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="revision-tips">
                        <h3>üí° Using Proofreader's Marks</h3>
                        <ul>
                            <li>Make marks clearly and consistently</li>
                            <li>Use different colored ink from the text</li>
                            <li>Write corrections in margins when space is limited</li>
                            <li>Be consistent with your mark usage</li>
                            <li>Consider digital markup tools for electronic documents</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Quiz Panel -->
                <div class="quiz-panel" id="quiz-marks"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('marks')">
                        Complete Section ‚Üí Revision Checklist
                    </button>
                </div>
            </section>

            <!-- Section 16.08: Revision Checklist -->
            <section class="content-section" id="checklist">
                <div class="section-header">
                    <h2>16.08 Revision Checklist</h2>
                </div>
                
                <div class="lesson-content">
                    <h3>Comprehensive Review</h3>
                    <p>Use this systematic checklist for thorough revision:</p>
                    
                    <div class="checklist-section">
                        <h3>Structural Level</h3>
                        <ul>
                            <li>‚ñ° Purpose is clear and achieved</li>
                            <li>‚ñ° Content is complete and accurate</li>
                            <li>‚ñ° Organization is logical and effective</li>
                            <li>‚ñ° Introduction engages and orients readers</li>
                            <li>‚ñ° Conclusion summarizes and provides closure</li>
                            <li>‚ñ° Each paragraph has a clear focus</li>
                            <li>‚ñ° Transitions connect ideas smoothly</li>
                            <li>‚ñ° Document meets audience needs</li>
                        </ul>
                        
                        <h3>Stylistic Level</h3>
                        <ul>
                            <li>‚ñ° Tone is appropriate and consistent</li>
                            <li>‚ñ° Voice is clear and engaging</li>
                            <li>‚ñ° Sentences vary in length and structure</li>
                            <li>‚ñ° Transitions connect ideas smoothly</li>
                            <li>‚ñ° Wordiness has been eliminated</li>
                            <li>‚ñ° Jargon is appropriate for audience</li>
                            <li>‚ñ° Active voice is used when appropriate</li>
                            <li>‚ñ° Parallel structure is maintained</li>
                        </ul>
                        
                        <h3>Copy Editing Level</h3>
                        <ul>
                            <li>‚ñ° Grammar is correct throughout</li>
                            <li>‚ñ° Spelling is accurate (not just spell-checked)</li>
                            <li>‚ñ° Punctuation follows standard rules</li>
                            <li>‚ñ° Capitalization is consistent</li>
                            <li>‚ñ° Numbers follow style guide</li>
                            <li>‚ñ° Abbreviations are used correctly</li>
                            <li>‚ñ° Citations and references are complete</li>
                            <li>‚ñ° Style guide has been followed</li>
                        </ul>
                        
                        <h3>Proofreading Level</h3>
                        <ul>
                            <li>‚ñ° Typography is consistent</li>
                            <li>‚ñ° Formatting follows guidelines</li>
                            <li>‚ñ° Page numbers are correct</li>
                            <li>‚ñ° Headers and footers are accurate</li>
                            <li>‚ñ° Cross-references are correct</li>
                            <li>‚ñ° Table of contents matches headings</li>
                            <li>‚ñ° Images and captions are properly placed</li>
                            <li>‚ñ° Final typos have been caught</li>
                        </ul>
                    </div>
                    
                    <div class="revision-tips">
                        <h3>üéØ Final Tips</h3>
                        <p>Remember that good writing is rewriting. Don't expect to catch everything in one pass. 
                        Take breaks between revision sessions, and when possible, have someone else review your work 
                        with fresh eyes.</p>
                    </div>
                </div>
                
                <!-- Quiz Panel -->
                <div class="quiz-panel" id="quiz-checklist"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('checklist')">
                        Complete Chapter
                    </button>
                </div>
            </section>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>&copy; 2024 Government of Canada. 
            Based on <em>The Canadian Style</em> (1997 revised edition)</p>
        </div>
    </footer>

    <script type="module">
        import { router } from '../shared/js/router.js';
        import { getProgress, setProgress } from '../shared/js/progress.js';
        import { QuizEngine } from '../shared/js/quiz-engine.js';
        import '../shared/js/components.js';
        
        const CHAPTER_ID = 'ch16';
        const sections = [
            { id: 'introduction', title: '16.01 Introduction' },
            { id: 'structural', title: '16.02 Structural Editing' },
            { id: 'stylistic', title: '16.03 Stylistic Editing' },
            { id: 'copy-editing', title: '16.04 Copy Editing' },
            { id: 'proofreading', title: '16.05 Proofreading' },
            { id: 'marks', title: '16.06 Proofreader\'s Marks' },
            { id: 'checklist', title: '16.08 Revision Checklist' }
        ];
        
        // Initialize progress bar
        function updateProgressBar() {
            const progress = getProgress(CHAPTER_ID);
            const chapterProgress = progress || {};
            const completed = Object.values(chapterProgress).filter(Boolean).length;
            const percentage = Math.round((completed / sections.length) * 100);
            
            document.getElementById('chapterProgress').style.width = percentage + '%';
        }
        
        // Mark section as complete
        window.completeSection = function(sectionId) {
            setProgress(CHAPTER_ID, sectionId, true);
            updateProgressBar();
            
            // Navigate to next section
            const currentIndex = sections.findIndex(s => s.id === sectionId);
            if (currentIndex < sections.length - 1) {
                const nextSection = sections[currentIndex + 1];
                showSection(nextSection.id);
                updateActiveTab(document.querySelector(`[data-section="${nextSection.id}"]`));
            } else {
                // Chapter complete
                showCompletionModal();
            }
        };
        
        function showCompletionModal() {
            const modal = document.createElement('div');
            modal.className = 'completion-modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <h3>üéâ Chapter 16 Complete!</h3>
                    <p>Congratulations! You've completed The Canadian Style course. 
                    You now have the tools to write clear, correct, and professional documents.</p>
                    <div class="modal-actions">
                        <button class="btn btn-outline" onclick="this.closest('.completion-modal').remove()">
                            Stay Here
                        </button>
                        <a href="../index.html" class="btn btn-primary">
                            Back to Dashboard
                        </a>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        // Section navigation
        function initSectionNavigation() {
            const tabs = document.querySelectorAll('.tab-link');
            tabs.forEach(tab => {
                tab.addEventListener('click', (e) => {
                    e.preventDefault();
                    const sectionId = tab.getAttribute('data-section');
                    showSection(sectionId);
                    updateActiveTab(tab);
                });
            });
            
            // Handle initial hash
            const hash = window.location.hash.replace('#', '');
            if (hash && document.getElementById(hash)) {
                const tab = document.querySelector(`[data-section="${hash}"]`);
                if (tab) tab.click();
            } else {
                // Default to first section
                showSection('introduction');
                updateActiveTab(tabs[0]);
            }
        }
        
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Show target section
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.style.display = 'block';
            }
        }
        
        function updateActiveTab(activeLink) {
            document.querySelectorAll('.tab-link').forEach(link => {
                link.classList.remove('active');
            });
            activeLink.classList.add('active');
        }
        
        // Load section quizzes from JSON files
        async function loadSectionQuizzes() {
            try {
                const response = await fetch(`../data/quizzes/${CHAPTER_ID}-quiz.json`);
                if (!response.ok) {
                    console.warn('Quiz data not available for chapter 16');
                    return;
                }
                
                const quizData = await response.json();
                
                // Initialize quizzes for sections that have them
                sections.forEach(section => {
                    const sectionQuizData = quizData.sections?.[section.id];
                    if (sectionQuizData && sectionQuizData.questions) {
                        const quizContainer = document.getElementById(`quiz-${section.id}`);
                        if (quizContainer) {
                            const quizEngine = new QuizEngine(sectionQuizData, CHAPTER_ID, section.id);
                            quizEngine.render(quizContainer);
                        }
                    }
                });
            } catch (error) {
                console.warn('Error loading quiz data:', error);
            }
        }
        
        // Initialize page
        initSectionNavigation();
        updateProgressBar();
        loadSectionQuizzes();
        
        // Handle window beforeunload for quiz warnings
        window.addEventListener('beforeunload', (event) => {
            const activeQuiz = document.querySelector('.quiz-engine-container .quiz-in-progress');
            if (activeQuiz) {
                event.preventDefault();
                event.returnValue = 'You have a quiz in progress. Are you sure you want to leave?';
            }
        });
        
        window.addEventListener('progress-changed', updateProgressBar);
    </script>
</body>
</html>
