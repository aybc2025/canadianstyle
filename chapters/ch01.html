<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 1: Abbreviations - The Canadian Style</title>
    <link rel="stylesheet" href="../shared/css/main.css">
</head>
<body>
    <header class="site-header">
        <div class="container">
            <div class="logo-wrapper">
                <img src="../shared/img/maple-logo.svg" alt="Canadian Style Logo" class="logo">
                <h1>The Canadian Style</h1>
            </div>
            <nav class="chapter-nav">
                <a href="../index.html" class="btn btn-secondary">Back to Dashboard</a>
            </nav>
        </div>
    </header>

    <div class="chapter-hero">
        <div class="container">
            <nav class="breadcrumb">
                <a href="../index.html">Home</a> / Chapter 1
            </nav>
            <div class="chapter-meta">
                <div class="chapter-icon">01</div>
                <div>
                    <h1>Abbreviations</h1>
                    <p>Master the art of abbreviating words and phrases in Canadian English</p>
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="chapterProgress" style="width: 0%"></div>
            </div>
        </div>
    </div>

    <nav class="section-tabs" id="sectionNav">
        <div class="container">
            <div class="tabs-list">
                <a href="#introduction" class="tab-link" data-section="introduction">1.01 Introduction</a>
                <a href="#periods" class="tab-link" data-section="periods">1.02 Periods</a>
                <a href="#plurals" class="tab-link" data-section="plurals">1.03 Plurals</a>
                <a href="#capital-letters" class="tab-link" data-section="capital-letters">1.04 Capital Letters</a>
                <a href="#titles" class="tab-link" data-section="titles">1.05 Titles</a>
                <a href="#numerals" class="tab-link" data-section="numerals">1.06 Numerals</a>
                <a href="#scientific" class="tab-link" data-section="scientific">1.07 Scientific Terms</a>
                <a href="#corporate" class="tab-link" data-section="corporate">1.08 Corporate Names</a>
            </div>
        </div>
    </nav>

    <main class="chapter-content">
        <div class="container">
            <!-- Section 1.01: Introduction -->
            <section class="content-section" id="introduction">
                <div class="section-header">
                    <h2>1.01 Introduction</h2>
                </div>
                
                <div class="lesson-content">
                    <p>An abbreviation is a shortened form of a word or phrase. There are three main types of abbreviations that you'll encounter in Canadian English writing:</p>
                    
                    <ul>
                        <li><strong>Suspension:</strong> The ending of a word is cut off (e.g., "Mr." for "Mister")</li>
                        <li><strong>Contraction:</strong> The middle of a word is omitted (e.g., "Dr." for "Doctor")</li>
                        <li><strong>Acronym/Initialism:</strong> Initial letters of words in a phrase (e.g., "CBC" for "Canadian Broadcasting Corporation")</li>
                    </ul>
                    
                    <p>This chapter will guide you through the correct usage of abbreviations in formal Canadian writing, including when to use periods, how to form plurals, and special cases for scientific and corporate contexts.</p>
                    
                    <div class="example-box">
                        <div class="example-label">Key Principle</div>
                        <p>Abbreviations should enhance clarity and readability. When in doubt, spell out the full term on first use, followed by the abbreviation in parentheses.</p>
                    </div>
                </div>
                
                <div class="quiz-panel" id="quiz-introduction"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('introduction')">
                        Mark Complete & Continue
                    </button>
                </div>
            </section>

            <!-- Section 1.02: Periods -->
            <section class="content-section" id="periods">
                <div class="section-header">
                    <h2>1.02 Periods in Abbreviations</h2>
                </div>
                
                <div class="lesson-content">
                    <p>The use of periods in abbreviations follows specific patterns in Canadian style:</p>
                    
                    <h3>When to Use Periods</h3>
                    <ul>
                        <li>Traditional abbreviations: <strong>Mr.</strong>, <strong>Mrs.</strong>, <strong>Dr.</strong>, <strong>Ltd.</strong></li>
                        <li>Latin abbreviations: <strong>e.g.</strong>, <strong>i.e.</strong>, <strong>etc.</strong>, <strong>vs.</strong></li>
                        <li>Geographic abbreviations in formal text: <strong>U.S.A.</strong>, <strong>U.K.</strong></li>
                    </ul>
                    
                    <h3>When NOT to Use Periods</h3>
                    <ul>
                        <li>Metric symbols: <strong>km</strong>, <strong>kg</strong>, <strong>ml</strong> (never add periods)</li>
                        <li>Scientific units: <strong>MHz</strong>, <strong>kW</strong>, <strong>cm</strong></li>
                        <li>Most organizational acronyms: <strong>CBC</strong>, <strong>NATO</strong>, <strong>RCMP</strong></li>
                        <li>Postal codes and abbreviations: <strong>ON</strong>, <strong>BC</strong>, <strong>QC</strong></li>
                    </ul>
                    
                    <div class="example-box">
                        <div class="example-label">Example 1.02a</div>
                        <p><strong>Correct:</strong> Dr. Smith travelled 50 km to the CBC office in Toronto, ON.</p>
                        <p><strong>Incorrect:</strong> Dr Smith travelled 50 km. to the C.B.C. office in Toronto, Ont.</p>
                    </div>
                    
                    <h3>Special Cases</h3>
                    <p>Some abbreviations can be written with or without periods, depending on context and formality:</p>
                    <ul>
                        <li><strong>PhD</strong> or <strong>Ph.D.</strong> (both acceptable)</li>
                        <li><strong>USA</strong> or <strong>U.S.A.</strong> (use consistently within a document)</li>
                        <li><strong>am/pm</strong> or <strong>a.m./p.m.</strong> (choose one style)</li>
                    </ul>
                </div>
                
                <div class="quiz-panel" id="quiz-periods"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('periods')">
                        Mark Complete & Continue
                    </button>
                </div>
            </section>

            <!-- Section 1.03: Plurals -->
            <section class="content-section" id="plurals">
                <div class="section-header">
                    <h2>1.03 Plurals of Abbreviations</h2>
                </div>
                
                <div class="lesson-content">
                    <p>Forming plurals of abbreviations requires careful attention to maintain clarity:</p>
                    
                    <h3>General Rules</h3>
                    <ul>
                        <li>Add lowercase <strong>s</strong> without an apostrophe: <strong>MPs</strong>, <strong>CDs</strong>, <strong>URLs</strong></li>
                        <li>For abbreviations with periods, add <strong>'s</strong>: <strong>M.A.'s</strong>, <strong>Ph.D.'s</strong></li>
                        <li>For lowercase abbreviations, use apostrophe to avoid confusion: <strong>p.'s and q.'s</strong></li>
                    </ul>
                    
                    <div class="example-box">
                        <div class="example-label">Example 1.03a</div>
                        <p>The three MPs attended the meeting.</p>
                        <p>She earned two M.A.'s before her Ph.D.</p>
                        <p>Mind your p.'s and q.'s in formal writing.</p>
                    </div>
                    
                    <h3>Special Plural Forms</h3>
                    <p>Some abbreviations have irregular plural forms:</p>
                    <ul>
                        <li><strong>pp.</strong> (pages) from <strong>p.</strong> (page)</li>
                        <li><strong>MSS</strong> (manuscripts) from <strong>MS</strong> (manuscript)</li>
                        <li><strong>Messrs.</strong> (plural of Mr.)</li>
                        <li><strong>Mmes.</strong> (plural of Mrs. or Mme.)</li>
                    </ul>
                </div>
                
                <div class="quiz-panel" id="quiz-plurals"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('plurals')">
                        Mark Complete & Continue
                    </button>
                </div>
            </section>

            <!-- Additional sections would continue here... -->
            
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>&copy; 2024 Government of Canada. Based on <em>The Canadian Style</em> (1997 revised edition)</p>
        </div>
    </footer>

    <script type="module">
        import { router } from '../shared/js/router.js';
        import { getProgress, setProgress } from '../shared/js/progress.js';
        import { QuizEngine, loadQuizData } from '../shared/js/quiz-engine.js';
        import '../shared/js/components.js';
        
        const CHAPTER_ID = 'ch01';
        const sections = [
            { id: 'introduction', title: '1.01 Introduction' },
            { id: 'periods', title: '1.02 Periods' },
            { id: 'plurals', title: '1.03 Plurals' },
            { id: 'capital-letters', title: '1.04 Capital Letters' },
            { id: 'titles', title: '1.05 Titles' },
            { id: 'numerals', title: '1.06 Numerals' },
            { id: 'scientific', title: '1.07 Scientific Terms' },
            { id: 'corporate', title: '1.08 Corporate Names' }
        ];
        
        // Initialize progress bar
        function updateProgressBar() {
            const progress = getProgress();
            const chapterProgress = progress[CHAPTER_ID] || {};
            const completed = Object.values(chapterProgress).filter(Boolean).length;
            const percentage = Math.round((completed / sections.length) * 100);
            
            document.getElementById('chapterProgress').style.width = percentage + '%';
        }
        
        // Mark section as complete
        window.completeSection = function(sectionId) {
            setProgress(CHAPTER_ID, sectionId, true);
            updateProgressBar();
            
            // Navigate to next section
            const currentIndex = sections.findIndex(s => s.id === sectionId);
            if (currentIndex < sections.length - 1) {
                const nextSection = sections[currentIndex + 1];
                router.navigateTo(CHAPTER_ID, nextSection.id);
            } else {
                // Chapter complete
                alert('Congratulations! You have completed Chapter 1: Abbreviations');
                window.location.href = '../index.html';
            }
        };
        
        // Load quizzes for each section
        async function loadSectionQuizzes() {
            const quizData = {
                introduction: {
                    id: 'intro-quiz',
                    title: 'Test Your Understanding',
                    chapterId: CHAPTER_ID,
                    sectionId: 'introduction',
                    questions: [
                        {
                            type: 'mcq',
                            stem: 'Which of the following is NOT a main type of abbreviation?',
                            options: [
                                { label: 'Suspension', correct: false },
                                { label: 'Contraction', correct: false },
                                { label: 'Concatenation', correct: true },
                                { label: 'Acronym', correct: false }
                            ],
                            rationale: 'The three main types are suspension, contraction, and acronym/initialism.'
                        }
                    ]
                },
                periods: {
                    id: 'periods-quiz',
                    title: 'Periods in Abbreviations',
                    chapterId: CHAPTER_ID,
                    sectionId: 'periods',
                    questions: [
                        {
                            type: 'mcq',
                            stem: 'Which abbreviation should NOT have periods?',
                            options: [
                                { label: 'Dr.', correct: false },
                                { label: 'km', correct: true },
                                { label: 'e.g.', correct: false },
                                { label: 'Ltd.', correct: false }
                            ],
                            rationale: 'Metric symbols like km never use periods.'
                        },
                        {
                            type: 'fill-blank',
                            stem: 'The doctor travelled 25 ___ to reach the hospital.',
                            answer: 'km',
                            rationale: 'Metric units are written without periods.'
                        }
                    ]
                },
                plurals: {
                    id: 'plurals-quiz',
                    title: 'Forming Plurals',
                    chapterId: CHAPTER_ID,
                    sectionId: 'plurals',
                    questions: [
                        {
                            type: 'mcq',
                            stem: 'What is the correct plural of MP?',
                            options: [
                                { label: "MP's", correct: false },
                                { label: 'MPs', correct: true },
                                { label: "MPs'", correct: false },
                                { label: 'M.P.s', correct: false }
                            ],
                            rationale: 'Add lowercase s without apostrophe for abbreviations without periods.'
                        }
                    ]
                }
            };
            
            // Initialize quiz for visible sections
            for (const section of sections) {
                const quiz = quizData[section.id];
                if (quiz) {
                    const container = document.getElementById(`quiz-${section.id}`);
                    if (container) {
                        const engine = new QuizEngine(`quiz-${section.id}`, quiz);
                        engine.init();
                    }
                }
            }
        }
        
        // Initialize on load
        document.addEventListener('DOMContentLoaded', () => {
            updateProgressBar();
            loadSectionQuizzes();
            
            // Handle initial navigation
            if (!window.location.hash) {
                router.navigateTo(CHAPTER_ID, 'introduction');
            }
        });
        
        // Update on progress changes
        window.addEventListener('progress-changed', updateProgressBar);
    </script>
</body>
</html>