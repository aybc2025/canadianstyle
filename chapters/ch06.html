<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 6: Italics - The Canadian Style</title>
    <link rel="stylesheet" href="../shared/css/main.css">
    <link rel="stylesheet" href="../shared/css/quiz-styles.css">
</head>
<body>
    <header class="site-header">
        <div class="container">
            <div class="logo-wrapper">
                <img src="../shared/img/maple-logo.svg" alt="Canadian Style Logo" class="logo">
                <h1>The Canadian Style</h1>
            </div>
            <nav class="chapter-nav">
                <a href="../index.html" class="btn btn-secondary">Back to Dashboard</a>
            </nav>
        </div>
    </header>

    <div class="chapter-hero">
        <div class="container">
            <nav class="breadcrumb">
                <a href="../index.html">Home</a> / Chapter 6
            </nav>
            <div class="chapter-meta">
                <div class="chapter-icon">6</div>
                <div>
                    <h1>Italics</h1>
                    <p>Proper use of italics for emphasis and special terms</p>
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="chapterProgress" style="width: 0%"></div>
            </div>
        </div>
    </div>

    <nav class="section-tabs" id="sectionNav">
        <div class="container">
            <div class="tabs-list">
                <a href="#introduction" class="tab-link" data-section="introduction">6.01 Introduction</a>
                <a href="#emphasis" class="tab-link" data-section="emphasis">6.02 Emphasis</a>
                <a href="#titles" class="tab-link" data-section="titles">6.03 Titles</a>
                <a href="#foreign-words" class="tab-link" data-section="foreign-words">6.04 Foreign Words</a>
                <a href="#legal-cases" class="tab-link" data-section="legal-cases">6.05 Legal Cases</a>
            </div>
        </div>
    </nav>

    <main class="chapter-content">
        <div class="container">
            <!-- Section 6.01: Introduction -->
            <section class="content-section" id="introduction">
                <div class="section-header">
                    <h2>6.01 Introduction</h2>
                </div>
                
                <div class="lesson-content">
                    <p>Italics serve specific purposes in professional writing. Use them judiciously for maximum effect and clear communication.</p>
                    
                    <div class="key-principles">
                        <h3>When to Use Italics</h3>
                        <ul>
                            <li>Titles of major works</li>
                            <li>Foreign words not yet naturalized in English</li>
                            <li>Legal case names</li>
                            <li>Scientific names of species</li>
                            <li>Occasional emphasis (sparingly)</li>
                        </ul>
                    </div>
                    
                    <div class="warning-box">
                        <h4>⚠️ Avoid Overuse</h4>
                        <p>Too much italic text reduces its effectiveness and makes documents harder to read. Use italics strategically, not for general emphasis.</p>
                    </div>
                </div>
                
                <!-- Quiz Panel -->
                <div class="quiz-panel" id="quiz-introduction"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('introduction')">
                        Complete Section → Emphasis
                    </button>
                </div>
            </section>

            <!-- Section 6.02: Emphasis -->
            <section class="content-section" id="emphasis">
                <div class="section-header">
                    <h2>6.02 Emphasis</h2>
                </div>
                
                <div class="lesson-content">
                    <h3>Occasional Emphasis</h3>
                    <p>Use italics sparingly for emphasis. Often, sentence structure provides better emphasis than typography:</p>
                    
                    <div class="examples-grid">
                        <div class="example-card good">
                            <h4>✅ Good Uses</h4>
                            <p>This is <em>not</em> the time for delays.<br>
                            We need <em>action</em>, not more discussion.<br>
                            The deadline is <em>tomorrow</em>.</p>
                        </div>
                        <div class="example-card avoid">
                            <h4>❌ Overuse</h4>
                            <p>This <em>important</em> document <em>requires</em> your <em>immediate</em> attention.</p>
                        </div>
                    </div>
                    
                    <h3>Better Alternatives</h3>
                    <div class="rule-section">
                        <h4>Instead of Italics for Emphasis:</h4>
                        <ul>
                            <li><strong>Word order:</strong> "Essential is immediate action" vs. "Immediate action is <em>essential</em>"</li>
                            <li><strong>Strong verbs:</strong> "We must act" vs. "We <em>need</em> to act"</li>
                            <li><strong>Precise words:</strong> "The deadline" vs. "The <em>important</em> deadline"</li>
                            <li><strong>Sentence structure:</strong> "Action—not discussion—is needed"</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Quiz Panel -->
                <div class="quiz-panel" id="quiz-emphasis"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('emphasis')">
                        Complete Section → Titles
                    </button>
                </div>
            </section>

            <!-- Section 6.03: Titles -->
            <section class="content-section" id="titles">
                <div class="section-header">
                    <h2>6.03 Titles of Works</h2>
                </div>
                
                <div class="lesson-content">
                    <h3>Major Works</h3>
                    <p>Use italics for titles of major standalone works:</p>
                    
                    <div class="examples-grid">
                        <div class="example-card good">
                            <h4>✅ Books</h4>
                            <p><em>The Canadian Style</em><br>
                            <em>Pride and Prejudice</em><br>
                            <em>The Charter of Rights and Freedoms</em></p>
                        </div>
                        <div class="example-card good">
                            <h4>✅ Periodicals</h4>
                            <p><em>The Globe and Mail</em><br>
                            <em>Maclean's</em><br>
                            <em>Canadian Public Administration</em></p>
                        </div>
                    </div>
                    
                    <div class="examples-grid">
                        <div class="example-card good">
                            <h4>✅ Other Major Works</h4>
                            <p><em>Hamlet</em> (play)<br>
                            <em>The Lord of the Rings</em> (film)<br>
                            <em>Symphony No. 9</em> (music)</p>
                        </div>
                        <div class="example-card good">
                            <h4>✅ Government Documents</h4>
                            <p><em>Budget 2024</em><br>
                            <em>Speech from the Throne</em><br>
                            <em>Annual Report</em></p>
                        </div>
                    </div>
                    
                    <h3>Use Quotation Marks Instead</h3>
                    <div class="rule-section">
                        <h4>For Smaller Works:</h4>
                        <ul>
                            <li><strong>Articles:</strong> "Building Better Communities"</li>
                            <li><strong>Chapters:</strong> "Introduction to Policy"</li>
                            <li><strong>Short stories:</strong> "The Gift of the Magi"</li>
                            <li><strong>Songs:</strong> "O Canada"</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Quiz Panel -->
                <div class="quiz-panel" id="quiz-titles"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('titles')">
                        Complete Section → Foreign Words
                    </button>
                </div>
            </section>

            <!-- Section 6.04: Foreign Words -->
            <section class="content-section" id="foreign-words">
                <div class="section-header">
                    <h2>6.04 Foreign Words and Phrases</h2>
                </div>
                
                <div class="lesson-content">
                    <h3>Non-Naturalized Foreign Terms</h3>
                    <p>Use italics for foreign words not yet adopted into English:</p>
                    
                    <div class="examples-grid">
                        <div class="example-card good">
                            <h4>✅ Use Italics</h4>
                            <p>We need an <em>ad hoc</em> committee<br>
                            This is the <em>sine qua non</em> of good policy<br>
                            The <em>raison d'être</em> for this program</p>
                        </div>
                        <div class="example-card avoid">
                            <h4>❌ Don't Italicize</h4>
                            <p>per se (common in English)<br>
                            et cetera (abbreviated as etc.)<br>
                            status quo (naturalized)</p>
                        </div>
                    </div>
                    
                    <h3>Scientific Names</h3>
                    <p>Always italicize genus and species names:</p>
                    
                    <div class="rule-section">
                        <h4>Examples</h4>
                        <ul>
                            <li><em>Acer saccharum</em> (sugar maple)</li>
                            <li><em>Castor canadensis</em> (Canadian beaver)</li>
                            <li><em>Pinus strobus</em> (white pine)</li>
                        </ul>
                    </div>
                    
                    <h3>Latin Abbreviations</h3>
                    <div class="rule-section">
                        <h4>Common Terms (No Italics)</h4>
                        <ul>
                            <li><strong>e.g.</strong> (for example)</li>
                            <li><strong>i.e.</strong> (that is)</li>
                            <li><strong>etc.</strong> (and so forth)</li>
                            <li><strong>vs.</strong> (versus)</li>
                        </ul>
                    </div>
                    
                    <h3>Plurals of Foreign Terms</h3>
                    <div class="examples-grid">
                        <div class="example-card good">
                            <h4>✅ Retained Foreign Plurals</h4>
                            <p><em>datum</em> → <em>data</em> (now English)<br>
                            <em>memorandum</em> → <em>memoranda</em><br>
                            <em>criterion</em> → <em>criteria</em></p>
                        </div>
                        <div class="example-card good">
                            <h4>✅ English Plurals</h4>
                            <p><em>forum</em> → forums<br>
                            <em>focus</em> → focuses<br>
                            <em>campus</em> → campuses</p>
                        </div>
                    </div>
                </div>
                
                <!-- Quiz Panel -->
                <div class="quiz-panel" id="quiz-foreign-words"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('foreign-words')">
                        Complete Section → Legal Cases
                    </button>
                </div>
            </section>

            <!-- Section 6.05: Legal Cases -->
            <section class="content-section" id="legal-cases">
                <div class="section-header">
                    <h2>6.05 Legal Cases</h2>
                </div>
                
                <div class="lesson-content">
                    <h3>Case Names</h3>
                    <p>Italicize the names of legal cases when cited in text:</p>
                    
                    <div class="examples-grid">
                        <div class="example-card good">
                            <h4>✅ In Text</h4>
                            <p>The <em>Charter</em> case established...<br>
                            In <em>R. v. Morgentaler</em>, the court ruled...<br>
                            The decision in <em>Roncarelli v. Duplessis</em></p>
                        </div>
                        <div class="example-card good">
                            <h4>✅ In Citations</h4>
                            <p><em>Reference re Same-Sex Marriage</em>, 2004 SCC 79<br>
                            <em>R. v. Oakes</em>, [1986] 1 SCR 103<br>
                            <em>Chaoulli v. Quebec</em>, 2005 SCC 35</p>
                        </div>
                    </div>
                    
                    <h3>Government Parties</h3>
                    <div class="rule-section">
                        <h4>Standard Abbreviations</h4>
                        <ul>
                            <li><strong>R. v.</strong> (Regina versus - criminal cases)</li>
                            <li><strong>Reference re</strong> (constitutional references)</li>
                            <li><strong>Attorney General of Canada v.</strong> (government cases)</li>
                            <li><strong>The Queen v.</strong> (formal Crown cases)</li>
                        </ul>
                    </div>
                    
                    <h3>Legislation</h3>
                    <p>Italicize the names of acts and statutes:</p>
                    
                    <div class="rule-section">
                        <h4>Examples</h4>
                        <ul>
                            <li><em>Canadian Charter of Rights and Freedoms</em></li>
                            <li><em>Employment Standards Act</em></li>
                            <li><em>Criminal Code</em></li>
                            <li><em>Official Languages Act</em></li>
                        </ul>
                    </div>
                </div>
                
                <!-- Quiz Panel -->
                <div class="quiz-panel" id="quiz-legal-cases"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('legal-cases')">
                        Complete Chapter
                    </button>
                </div>
            </section>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>&copy; 2024 Government of Canada. 
            Based on <em>The Canadian Style</em> (1997 revised edition)</p>
        </div>
    </footer>

    <script type="module">
        import { router } from '../shared/js/router.js';
        import { getProgress, setProgress } from '../shared/js/progress.js';
        import { QuizEngine } from '../shared/js/quiz-engine.js';
        import '../shared/js/components.js';
        
        const CHAPTER_ID = 'ch06';
        const sections = [
            { id: 'introduction', title: '6.01 Introduction' },
            { id: 'emphasis', title: '6.02 Emphasis' },
            { id: 'titles', title: '6.03 Titles' },
            { id: 'foreign-words', title: '6.04 Foreign Words' },
            { id: 'legal-cases', title: '6.05 Legal Cases' }
        ];
        
        // Initialize progress bar
        function updateProgressBar() {
            const progress = getProgress(CHAPTER_ID);
            const chapterProgress = progress || {};
            const completed = Object.values(chapterProgress).filter(Boolean).length;
            const percentage = Math.round((completed / sections.length) * 100);
            
            document.getElementById('chapterProgress').style.width = percentage + '%';
        }
        
        // Mark section as complete
        window.completeSection = function(sectionId) {
            setProgress(CHAPTER_ID, sectionId, true);
            updateProgressBar();
            
            // Navigate to next section
            const currentIndex = sections.findIndex(s => s.id === sectionId);
            if (currentIndex < sections.length - 1) {
                const nextSection = sections[currentIndex + 1];
                showSection(nextSection.id);
                updateActiveTab(document.querySelector(`[data-section="${nextSection.id}"]`));
            } else {
                // Chapter complete
                showCompletionModal();
            }
        };
        
        function showCompletionModal() {
            const modal = document.createElement('div');
            modal.className = 'completion-modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <h3>🎉 Chapter 6 Complete!</h3>
                    <p>You've mastered the proper use of italics! 
                    Your documents will now use emphasis effectively and appropriately.</p>
                    <div class="modal-actions">
                        <button class="btn btn-outline" onclick="this.closest('.completion-modal').remove()">
                            Stay Here
                        </button>
                        <a href="../index.html" class="btn btn-primary">
                            Back to Dashboard
                        </a>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        // Section navigation
        function initSectionNavigation() {
            const tabs = document.querySelectorAll('.tab-link');
            tabs.forEach(tab => {
                tab.addEventListener('click', (e) => {
                    e.preventDefault();
                    const sectionId = tab.getAttribute('data-section');
                    showSection(sectionId);
                    updateActiveTab(tab);
                });
            });
            
            // Handle initial hash
            const hash = window.location.hash.replace('#', '');
            if (hash && document.getElementById(hash)) {
                const tab = document.querySelector(`[data-section="${hash}"]`);
                if (tab) tab.click();
            } else {
                // Default to first section
                showSection('introduction');
                updateActiveTab(tabs[0]);
            }
        }
        
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Show target section
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.style.display = 'block';
            }
        }
        
        function updateActiveTab(activeLink) {
            document.querySelectorAll('.tab-link').forEach(link => {
                link.classList.remove('active');
            });
            activeLink.classList.add('active');
        }
        
        // Load section quizzes from JSON files
        async function loadSectionQuizzes() {
            try {
                const response = await fetch(`../data/${CHAPTER_ID}-quiz.json`);
                if (!response.ok) {
                    console.warn('Quiz data not available for chapter 6');
                    return;
                }
                
                const quizData = await response.json();
                
                // Initialize quizzes for sections that have them
                sections.forEach(section => {
                    const sectionQuizData = quizData.sections?.[section.id];
                    if (sectionQuizData && sectionQuizData.questions) {
                        const quizContainer = document.getElementById(`quiz-${section.id}`);
                        if (quizContainer) {
                            const quizEngine = new QuizEngine(sectionQuizData, CHAPTER_ID, section.id);
                            quizEngine.render(quizContainer);
                        }
                    }
                });
            } catch (error) {
                console.warn('Error loading quiz data:', error);
            }
        }
        
        // Initialize page
        initSectionNavigation();
        updateProgressBar();
        loadSectionQuizzes();
        
        // Handle window beforeunload for quiz warnings
        window.addEventListener('beforeunload', (event) => {
            const activeQuiz = document.querySelector('.quiz-engine-container .quiz-in-progress');
            if (activeQuiz) {
                event.preventDefault();
                event.returnValue = 'You have a quiz in progress. Are you sure you want to leave?';
            }
        });
        
        window.addEventListener('progress-changed', updateProgressBar);
    </script>
</body>
</html>
