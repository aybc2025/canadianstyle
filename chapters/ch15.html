<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 15: Geographical Names - The Canadian Style</title>
    <link rel="stylesheet" href="../shared/css/main.css">
    <link rel="stylesheet" href="../shared/css/quiz-styles.css">
</head>
<body>
    <header class="site-header">
        <div class="container">
            <div class="logo-wrapper">
                <img src="../shared/img/maple-logo.svg" alt="Canadian Style Logo" class="logo">
                <h1>The Canadian Style</h1>
            </div>
            <nav class="chapter-nav">
                <a href="../index.html" class="btn btn-secondary">Back to Dashboard</a>
            </nav>
        </div>
    </header>

    <div class="chapter-hero">
        <div class="container">
            <nav class="breadcrumb">
                <a href="../index.html">Home</a> / Chapter 15
            </nav>
            <div class="chapter-meta">
                <div class="chapter-icon">15</div>
                <div>
                    <h1>Geographical Names</h1>
                    <p>Use correct spellings and forms for Canadian place names</p>
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="chapterProgress" style="width: 0%"></div>
            </div>
        </div>
    </div>

    <nav class="section-tabs" id="sectionNav">
        <div class="container">
            <div class="tabs-list">
                <a href="#introduction" class="tab-link" data-section="introduction">15.01 Introduction</a>
                <a href="#canadian" class="tab-link" data-section="canadian">15.02 Canadian Names</a>
                <a href="#foreign" class="tab-link" data-section="foreign">15.03 Foreign Names</a>
                <a href="#adjectives" class="tab-link" data-section="adjectives">15.04 Adjectives and Nouns</a>
                <a href="#provinces" class="tab-link" data-section="provinces">15.05 Provinces & Territories</a>
            </div>
        </div>
    </nav>

    <main class="chapter-content">
        <div class="container">
            <!-- Section 15.01: Introduction -->
            <section class="content-section" id="introduction">
                <div class="section-header">
                    <h2>15.01 Introduction</h2>
                </div>
                
                <div class="lesson-content">
                    <p>Geographical names require careful attention to spelling, capitalization, and forms approved by official naming authorities.</p>
                    
                    <p>In Canada, the official source for geographical names is the Canadian Permanent Committee on Geographical Names (CPCGN), which maintains the Canadian Geographical Names Database (CGNDB).</p>
                    
                    <div class="key-principles">
                        <h3>Key Principles</h3>
                        <ul>
                            <li>Use official spellings as established by naming authorities</li>
                            <li>Be consistent in spelling throughout your document</li>
                            <li>Distinguish between English and French forms when both exist</li>
                            <li>Follow established conventions for abbreviations</li>
                        </ul>
                    </div>
                    
                    <div class="authority-info">
                        <h3>Official Sources</h3>
                        <ul>
                            <li><strong>Canadian names:</strong> Canadian Geographical Names Database (CGNDB)</li>
                            <li><strong>International names:</strong> National Geographic Atlas, Times Atlas</li>
                            <li><strong>US names:</strong> Geographic Names Information System (GNIS)</li>
                        </ul>
                    </div>
                </div>
                
                <div class="quiz-panel" id="quiz-introduction"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('introduction')">
                        Mark Complete & Continue
                    </button>
                </div>
            </section>

            <!-- Section 15.02: Canadian Names -->
            <section class="content-section" id="canadian">
                <div class="section-header">
                    <h2>15.02 Canadian Names</h2>
                </div>
                
                <div class="lesson-content">
                    <p>Canadian geographical names follow specific conventions established by the Canadian Permanent Committee on Geographical Names.</p>
                    
                    <h3>Official Naming Policy</h3>
                    <ul>
                        <li>Use officially approved spellings from the CGNDB</li>
                        <li>Recognize both English and French forms where they exist</li>
                        <li>Follow the principle of local usage</li>
                        <li>Respect Indigenous naming preferences</li>
                    </ul>
                    
                    <h3>Common Canadian Geographical Names</h3>
                    <div class="names-grid">
                        <div class="name-category">
                            <h4>Major Cities</h4>
                            <ul>
                                <li>Toronto</li>
                                <li>Montréal (not Montreal)</li>
                                <li>Vancouver</li>
                                <li>Calgary</li>
                                <li>Ottawa</li>
                                <li>Québec (city)</li>
                            </ul>
                        </div>
                        
                        <div class="name-category">
                            <h4>Geographic Features</h4>
                            <ul>
                                <li>Hudson Bay</li>
                                <li>Great Lakes</li>
                                <li>Rocky Mountains</li>
                                <li>St. Lawrence River</li>
                                <li>Mackenzie River</li>
                                <li>Georgian Bay</li>
                            </ul>
                        </div>
                    </div>
                    
                    <h3>Bilingual Considerations</h3>
                    <div class="bilingual-examples">
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>English Form</th>
                                    <th>French Form</th>
                                    <th>Usage</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Quebec (province)</td>
                                    <td>Québec</td>
                                    <td>Use appropriate form for document language</td>
                                </tr>
                                <tr>
                                    <td>Prince Edward Island</td>
                                    <td>Île-du-Prince-Édouard</td>
                                    <td>P.E.I. / Î.-P.-É.</td>
                                </tr>
                                <tr>
                                    <td>New Brunswick</td>
                                    <td>Nouveau-Brunswick</td>
                                    <td>N.B. / N.-B.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="indigenous-names">
                        <h3>Indigenous Names</h3>
                        <p>Respect Indigenous place names and their preferred spellings:</p>
                        <ul>
                            <li>Use current official spellings</li>
                            <li>Be aware that names may have changed from historical forms</li>
                            <li>Consult Indigenous communities when in doubt</li>
                            <li>Examples: Nunavut, Iqaluit, Yellowknife</li>
                        </ul>
                    </div>
                </div>
                
                <div class="quiz-panel" id="quiz-canadian"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('canadian')">
                        Mark Complete & Continue
                    </button>
                </div>
            </section>

            <!-- Section 15.03: Foreign Names -->
            <section class="content-section" id="foreign">
                <div class="section-header">
                    <h2>15.03 Foreign Names</h2>
                </div>
                
                <div class="lesson-content">
                    <p>Foreign geographical names present challenges related to transliteration, traditional forms, and changing political situations.</p>
                    
                    <h3>General Principles</h3>
                    <ul>
                        <li>Use conventional English spellings when they exist</li>
                        <li>Follow standard reference sources for consistency</li>
                        <li>Be aware of recent name changes</li>
                        <li>Consider your audience's familiarity with the name</li>
                    </ul>
                    
                    <h3>Reference Sources for Foreign Names</h3>
                    <div class="reference-sources">
                        <div class="source-item">
                            <h4>Primary Sources</h4>
                            <ul>
                                <li>National Geographic Atlas of the World</li>
                                <li>Times Atlas of the World</li>
                                <li>Oxford Atlas of the World</li>
                                <li>Government geographical services</li>
                            </ul>
                        </div>
                        
                        <div class="source-item">
                            <h4>Online Resources</h4>
                            <ul>
                                <li>GeoNames geographical database</li>
                                <li>Natural Earth data</li>
                                <li>Country-specific geographical services</li>
                                <li>United Nations geographical databases</li>
                            </ul>
                        </div>
                    </div>
                    
                    <h3>Common Challenges</h3>
                    <div class="challenges-examples">
                        <div class="challenge-item">
                            <h4>Transliteration</h4>
                            <p>Use established English transliterations:</p>
                            <ul>
                                <li>Beijing (not Peking)</li>
                                <li>Mumbai (not Bombay)</li>
                                <li>Kyiv (not Kiev)</li>
                            </ul>
                        </div>
                        
                        <div class="challenge-item">
                            <h4>Political Changes</h4>
                            <p>Stay current with name changes:</p>
                            <ul>
                                <li>Myanmar (formerly Burma)</li>
                                <li>Eswatini (formerly Swaziland)</li>
                                <li>North Macedonia (formerly FYROM)</li>
                            </ul>
                        </div>
                        
                        <div class="challenge-item">
                            <h4>Diacritical Marks</h4>
                            <p>Include accents when standard:</p>
                            <ul>
                                <li>São Paulo</li>
                                <li>Zürich</li>
                                <li>Québec</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="usage-guidelines">
                        <h3>Usage Guidelines</h3>
                        <ul>
                            <li>Provide alternative names in parentheses when helpful</li>
                            <li>Be consistent throughout your document</li>
                            <li>Consider providing pronunciation guides for unusual names</li>
                            <li>Check recent changes before publication</li>
                        </ul>
                    </div>
                </div>
                
                <div class="quiz-panel" id="quiz-foreign"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('foreign')">
                        Mark Complete & Continue
                    </button>
                </div>
            </section>

            <!-- Section 15.04: Adjectives and Nouns Derived from Geographical Names -->
            <section class="content-section" id="adjectives">
                <div class="section-header">
                    <h2>15.04 Adjectives and Nouns Derived from Geographical Names</h2>
                </div>
                
                <div class="lesson-content">
                    <p>Adjectives and nouns formed from geographical names (gentilics) have specific capitalization and usage rules.</p>
                    
                    <h3>Capitalization Rules</h3>
                    <ul>
                        <li><strong>Always capitalize</strong> adjectives and nouns derived from geographical names</li>
                        <li>This applies to nationalities, languages, and regional terms</li>
                        <li>Exception: Some terms have become common nouns (french fries, danish pastry)</li>
                    </ul>
                    
                    <h3>Canadian Examples</h3>
                    <div class="canadian-gentilics">
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Place</th>
                                    <th>Adjective/Noun</th>
                                    <th>Example</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Canada</td>
                                    <td>Canadian</td>
                                    <td>Canadian policy</td>
                                </tr>
                                <tr>
                                    <td>Ontario</td>
                                    <td>Ontarian</td>
                                    <td>Ontarian residents</td>
                                </tr>
                                <tr>
                                    <td>Quebec</td>
                                    <td>Quebecois/Québécois</td>
                                    <td>Quebecois culture</td>
                                </tr>
                                <tr>
                                    <td>Alberta</td>
                                    <td>Albertan</td>
                                    <td>Albertan oil industry</td>
                                </tr>
                                <tr>
                                    <td>British Columbia</td>
                                    <td>British Columbian</td>
                                    <td>British Columbian forests</td>
                                </tr>
                                <tr>
                                    <td>Nova Scotia</td>
                                    <td>Nova Scotian</td>
                                    <td>Nova Scotian coastline</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <h3>International Examples</h3>
                    <div class="international-gentilics">
                        <div class="gentilics-grid">
                            <div class="gentilics-category">
                                <h4>European</h4>
                                <ul>
                                    <li>British/Briton</li>
                                    <li>French/Frenchman</li>
                                    <li>German</li>
                                    <li>Italian</li>
                                    <li>Spanish/Spaniard</li>
                                    <li>Dutch/Dutchman</li>
                                </ul>
                            </div>
                            
                            <div class="gentilics-category">
                                <h4>Asian</h4>
                                <ul>
                                    <li>Chinese</li>
                                    <li>Japanese</li>
                                    <li>Korean</li>
                                    <li>Indian</li>
                                    <li>Thai</li>
                                    <li>Vietnamese</li>
                                </ul>
                            </div>
                            
                            <div class="gentilics-category">
                                <h4>American</h4>
                                <ul>
                                    <li>American</li>
                                    <li>Mexican</li>
                                    <li>Brazilian</li>
                                    <li>Argentinian/Argentine</li>
                                    <li>Chilean</li>
                                    <li>Peruvian</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <h3>Special Cases</h3>
                    <div class="special-cases">
                        <h4>When NOT to Capitalize</h4>
                        <ul>
                            <li><strong>Common nouns:</strong> french fries, danish pastry, scotch whisky</li>
                            <li><strong>Generic usage:</strong> italic type, roman numerals</li>
                            <li><strong>Scientific terms:</strong> angstrom unit</li>
                        </ul>
                        
                        <h4>Alternative Forms</h4>
                        <ul>
                            <li>Some places have multiple acceptable gentilics</li>
                            <li>Choose based on context and preference</li>
                            <li>Examples: Filipino/Pilipino, Argentinian/Argentine</li>
                        </ul>
                    </div>
                </div>
                
                <div class="quiz-panel" id="quiz-adjectives"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('adjectives')">
                        Mark Complete & Continue
                    </button>
                </div>
            </section>

            <!-- Section 15.05: Provinces and Territories -->
            <section class="content-section" id="provinces">
                <div class="section-header">
                    <h2>15.05 Provinces and Territories</h2>
                </div>
                
                <div class="lesson-content">
                    <p>Canadian provinces and territories have official names, abbreviations, and postal codes that must be used correctly in government documents.</p>
                    
                    <h3>Complete List of Provinces and Territories</h3>
                    <div class="provinces-table">
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Full Name</th>
                                    <th>Standard Abbreviation</th>
                                    <th>Postal Code</th>
                                    <th>French Name</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>British Columbia</td>
                                    <td>B.C.</td>
                                    <td>BC</td>
                                    <td>Colombie-Britannique</td>
                                </tr>
                                <tr>
                                    <td>Alberta</td>
                                    <td>Alta.</td>
                                    <td>AB</td>
                                    <td>Alberta</td>
                                </tr>
                                <tr>
                                    <td>Saskatchewan</td>
                                    <td>Sask.</td>
                                    <td>SK</td>
                                    <td>Saskatchewan</td>
                                </tr>
                                <tr>
                                    <td>Manitoba</td>
                                    <td>Man.</td>
                                    <td>MB</td>
                                    <td>Manitoba</td>
                                </tr>
                                <tr>
                                    <td>Ontario</td>
                                    <td>Ont.</td>
                                    <td>ON</td>
                                    <td>Ontario</td>
                                </tr>
                                <tr>
                                    <td>Quebec</td>
                                    <td>Que.</td>
                                    <td>QC</td>
                                    <td>Québec</td>
                                </tr>
                                <tr>
                                    <td>New Brunswick</td>
                                    <td>N.B.</td>
                                    <td>NB</td>
                                    <td>Nouveau-Brunswick</td>
                                </tr>
                                <tr>
                                    <td>Prince Edward Island</td>
                                    <td>P.E.I.</td>
                                    <td>PE</td>
                                    <td>Île-du-Prince-Édouard</td>
                                </tr>
                                <tr>
                                    <td>Nova Scotia</td>
                                    <td>N.S.</td>
                                    <td>NS</td>
                                    <td>Nouvelle-Écosse</td>
                                </tr>
                                <tr>
                                    <td>Newfoundland and Labrador</td>
                                    <td>N.L.</td>
                                    <td>NL</td>
                                    <td>Terre-Neuve-et-Labrador</td>
                                </tr>
                                <tr>
                                    <td>Yukon</td>
                                    <td>Y.T.</td>
                                    <td>YT</td>
                                    <td>Yukon</td>
                                </tr>
                                <tr>
                                    <td>Northwest Territories</td>
                                    <td>N.W.T.</td>
                                    <td>NT</td>
                                    <td>Territoires du Nord-Ouest</td>
                                </tr>
                                <tr>
                                    <td>Nunavut</td>
                                    <td>Nvt.</td>
                                    <td>NU</td>
                                    <td>Nunavut</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <h3>Usage Guidelines</h3>
                    <div class="usage-rules">
                        <div class="rule-section">
                            <h4>When to Use Full Names</h4>
                            <ul>
                                <li>In formal documents and reports</li>
                                <li>At first mention in a document</li>
                                <li>In headings and titles</li>
                                <li>When emphasis or formality is required</li>
                            </ul>
                        </div>
                        
                        <div class="rule-section">
                            <h4>When to Use Standard Abbreviations</h4>
                            <ul>
                                <li>In tables and lists for space saving</li>
                                <li>In subsequent references after full name</li>
                                <li>In informal documents</li>
                                <li>Note: Always include periods in standard abbreviations</li>
                            </ul>
                        </div>
                        
                        <div class="rule-section">
                            <h4>When to Use Postal Codes</h4>
                            <ul>
                                <li>In mailing addresses only</li>
                                <li>In postal and shipping contexts</li>
                                <li>Note: No periods in postal codes</li>
                            </ul>
                        </div>
                    </div>
                    
                    <h3>Special Notes</h3>
                    <div class="special-notes">
                        <div class="note-item">
                            <h4>Newfoundland and Labrador</h4>
                            <p>Always use the full official name. "Newfoundland" alone is incomplete and potentially confusing.</p>
                        </div>
                        
                        <div class="note-item">
                            <h4>Yukon</h4>
                            <p>Official name is "Yukon" (not "Yukon Territory"). The abbreviation Y.T. is still acceptable.</p>
                        </div>
                        
                        <div class="note-item">
                            <h4>Nunavut</h4>
                            <p>Canada's newest territory (1999). The abbreviation "Nvt." is used in standard abbreviations, "NU" in postal contexts.</p>
                        </div>
                    </div>
                </div>
                
                <div class="quiz-panel" id="quiz-provinces"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('provinces')">
                        Chapter Complete!
                    </button>
                </div>
            </section>
        </div>
    </main>

    <style>
        .key-principles {
            background: var(--cs-grey-100);
            padding: var(--cs-space-l);
            border-radius: 8px;
            margin: var(--cs-space-l) 0;
        }
        
        .key-principles h3 {
            color: var(--cs-red);
            margin-top: 0;
        }
        
        .authority-info {
            background: var(--cs-info-bg);
            padding: var(--cs-space-l);
            border-radius: 8px;
            margin: var(--cs-space-l) 0;
        }
        
        .authority-info h3 {
            color: var(--cs-info);
            margin-top: 0;
        }
        
        .names-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--cs-space-l);
            margin: var(--cs-space-l) 0;
        }
        
        .name-category {
            background: var(--cs-grey-50);
            padding: var(--cs-space-l);
            border-radius: 8px;
        }
        
        .name-category h4 {
            color: var(--cs-red);
            margin-top: 0;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: var(--cs-space-l) 0;
        }
        
        .comparison-table th,
        .comparison-table td {
            padding: var(--cs-space-m);
            text-align: left;
            border: 1px solid var(--cs-grey-300);
        }
        
        .comparison-table th {
            background: var(--cs-grey-100);
            font-weight: var(--cs-font-semibold);
        }
        
        .comparison-table tr:nth-child(even) {
            background: var(--cs-grey-50);
        }
        
        .indigenous-names {
            background: var(--cs-warning-bg);
            padding: var(--cs-space-l);
            border-radius: 8px;
            margin: var(--cs-space-l) 0;
        }
        
        .indigenous-names h3 {
            color: var(--cs-warning);
            margin-top: 0;
        }
        
        .reference-sources {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--cs-space-l);
            margin: var(--cs-space-l) 0;
        }
        
        .source-item {
            background: var(--cs-grey-50);
            padding: var(--cs-space-l);
            border-radius: 8px;
        }
        
        .source-item h4 {
            color: var(--cs-red);
            margin-top: 0;
        }
        
        .challenges-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--cs-space-l);
            margin: var(--cs-space-l) 0;
        }
        
        .challenge-item {
            background: var(--cs-grey-100);
            padding: var(--cs-space-l);
            border-radius: 8px;
        }
        
        .challenge-item h4 {
            color: var(--cs-red);
            margin-top: 0;
        }
        
        .usage-guidelines {
            background: var(--cs-success-bg);
            padding: var(--cs-space-l);
            border-radius: 8px;
            margin: var(--cs-space-l) 0;
        }
        
        .usage-guidelines h3 {
            color: var(--cs-success);
            margin-top: 0;
        }
        
        .canadian-gentilics {
            margin: var(--cs-space-l) 0;
        }
        
        .gentilics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--cs-space-l);
            margin: var(--cs-space-l) 0;
        }
        
        .gentilics-category {
            background: var(--cs-grey-50);
            padding: var(--cs-space-l);
            border-radius: 8px;
        }
        
        .gentilics-category h4 {
            color: var(--cs-red);
            margin-top: 0;
        }
        
        .special-cases {
            background: var(--cs-warning-bg);
            padding: var(--cs-space-l);
            border-radius: 8px;
            margin: var(--cs-space-l) 0;
        }
        
        .special-cases h4 {
            color: var(--cs-warning);
            margin-top: var(--cs-space-l);
        }
        
        .special-cases h4:first-child {
            margin-top: 0;
        }
        
        .provinces-table {
            margin: var(--cs-space-l) 0;
            overflow-x: auto;
        }
        
        .usage-rules {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--cs-space-l);
            margin: var(--cs-space-l) 0;
        }
        
        .rule-section {
            background: var(--cs-grey-50);
            padding: var(--cs-space-l);
            border-radius: 8px;
        }
        
        .rule-section h4 {
            color: var(--cs-red);
            margin-top: 0;
        }
        
        .special-notes {
            margin: var(--cs-space-l) 0;
        }
        
        .note-item {
            background: var(--cs-info-bg);
            padding: var(--cs-space-l);
            border-radius: 8px;
            margin-bottom: var(--cs-space-m);
        }
        
        .note-item h4 {
            color: var(--cs-info);
            margin-top: 0;
            margin-bottom: var(--cs-space-s);
        }
        
        .note-item:last-child {
            margin-bottom: 0;
        }
    </style>

    <script type="module">
        import { router } from '../shared/js/router.js';
        import { getProgress, setProgress } from '../shared/js/progress.js';
        import { QuizEngine } from '../shared/js/quiz-engine.js';
        import '../shared/js/components.js';
        
        const CHAPTER_ID = 'ch15';
        const sections = [
            { id: 'introduction', title: '15.01 Introduction' },
            { id: 'canadian', title: '15.02 Canadian Names' },
            { id: 'foreign', title: '15.03 Foreign Names' },
            { id: 'adjectives', title: '15.04 Adjectives and Nouns' },
            { id: 'provinces', title: '15.05 Provinces & Territories' }
        ];
        
        // Initialize chapter
        document.addEventListener('DOMContentLoaded', () => {
            router.init();
            initializeChapter();
            loadQuizzes();
        });
        
        function initializeChapter() {
            updateProgress();
            setupNavigation();
        }
        
        function updateProgress() {
            const progress = getProgress(CHAPTER_ID);
            const completedSections = Object.values(progress.sections || {}).filter(Boolean).length;
            const totalSections = sections.length;
            const percentage = (completedSections / totalSections) * 100;
            
            const progressFill = document.getElementById('chapterProgress');
            if (progressFill) {
                progressFill.style.width = `${percentage}%`;
            }
        }
        
        function setupNavigation() {
            // Section navigation
            const sectionLinks = document.querySelectorAll('.tab-link');
            sectionLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const sectionId = link.getAttribute('data-section');
                    showSection(sectionId);
                    updateActiveTab(link);
                });
            });
            
            // Show first section by default
            showSection('introduction');
        }
        
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Show target section
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.style.display = 'block';
            }
        }
        
        function updateActiveTab(activeLink) {
            document.querySelectorAll('.tab-link').forEach(link => {
                link.classList.remove('active');
            });
            activeLink.classList.add('active');
        }
        
        async function loadQuizzes() {
            try {
                const quizData = await loadQuizData(CHAPTER_ID);
                
                sections.forEach(section => {
                    const quizPanel = document.getElementById(`quiz-${section.id}`);
                    if (quizPanel && quizData[section.id]) {
                        const quizEngine = new QuizEngine(quizPanel, quizData[section.id], CHAPTER_ID, section.id);
                        quizEngine.render();
                    }
                });
            } catch (error) {
                console.error('Error loading quizzes:', error);
            }
        }
        
        // Global function for completing sections
        window.completeSection = function(sectionId) {
            setProgress(CHAPTER_ID, sectionId, true);
            updateProgress();
            
            // Navigate to next section
            const currentIndex = sections.findIndex(s => s.id === sectionId);
            if (currentIndex < sections.length - 1) {
                const nextSection = sections[currentIndex + 1];
                showSection(nextSection.id);
                updateActiveTab(document.querySelector(`[data-section="${nextSection.id}"]`));
            } else {
                // Chapter completed
                alert('Chapter 15 completed! Well done!');
            }
        };
    </script>
</body>
</html>
