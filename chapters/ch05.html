<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 5: Numerical Expressions - The Canadian Style</title>
    <link rel="stylesheet" href="../shared/css/main.css">
    <link rel="stylesheet" href="../shared/css/quiz-styles.css">
</head>
<body>
    <header class="site-header">
        <div class="container">
            <div class="logo-wrapper">
                <img src="../shared/img/maple-logo.svg" alt="Canadian Style Logo" class="logo">
                <h1>The Canadian Style</h1>
            </div>
            <nav class="chapter-nav">
                <a href="../index.html" class="btn btn-secondary">Back to Dashboard</a>
            </nav>
        </div>
    </header>

    <div class="chapter-hero">
        <div class="container">
            <nav class="breadcrumb">
                <a href="../index.html">Home</a> / Chapter 5
            </nav>
            <div class="chapter-meta">
                <div class="chapter-icon">05</div>
                <div>
                    <h1>Numerical Expressions</h1>
                    <p>Master the presentation of numbers, dates, and measurements</p>
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="chapterProgress" style="width: 0%"></div>
            </div>
        </div>
    </div>

    <nav class="section-tabs" id="sectionNav">
        <div class="container">
            <div class="tabs-list">
                <a href="#introduction" class="tab-link" data-section="introduction">5.01 Introduction</a>
                <a href="#round-numbers" class="tab-link" data-section="round-numbers">5.02 Round Numbers</a>
                <a href="#consistency" class="tab-link" data-section="consistency">5.03 Consistency</a>
                <a href="#initial" class="tab-link" data-section="initial">5.04 Initial Numbers</a>
                <a href="#quantities" class="tab-link" data-section="quantities">5.10 Quantities</a>
                <a href="#money" class="tab-link" data-section="money">5.11 Money</a>
                <a href="#time" class="tab-link" data-section="time">5.12-5.13 Time</a>
                <a href="#dates" class="tab-link" data-section="dates">5.14 Dates</a>
            </div>
        </div>
    </nav>

    <main class="chapter-content">
        <div class="container">
            <!-- Section 5.01: Introduction -->
            <section class="content-section" id="introduction">
                <div class="section-header">
                    <h2>5.01 Introduction</h2>
                </div>
                
                <div class="lesson-content">
                    <p>Numbers appear in almost every document. This chapter provides guidelines for when to spell out numbers and when to use numerals, ensuring consistency and clarity in your writing.</p>
                    
                    <h3>General Principles</h3>
                    <ul>
                        <li><strong>Clarity first:</strong> Choose the form that's clearest for your readers</li>
                        <li><strong>Consistency:</strong> Be consistent within a document</li>
                        <li><strong>Context matters:</strong> Scientific and technical writing may have different conventions</li>
                        <li><strong>Reader expectations:</strong> Consider what your audience expects</li>
                    </ul>
                    
                    <div class="example-box">
                        <div class="example-label">Quick Reference</div>
                        <p><strong>Spell out:</strong> one to nine in ordinary writing</p>
                        <p><strong>Use numerals:</strong> 10 and above, measurements, statistics</p>
                        <p><strong>Be flexible:</strong> Clarity trumps rules</p>
                    </div>
                </div>
                
                <div class="quiz-panel" id="quiz-introduction"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('introduction')">
                        Mark Complete & Continue
                    </button>
                </div>
            </section>

            <!-- Section 5.02: Round Numbers -->
            <section class="content-section" id="round-numbers">
                <div class="section-header">
                    <h2>5.02 Round Numbers</h2>
                </div>
                
                <div class="lesson-content">
                    <p>The basic rule: spell out whole numbers from one to nine; use figures for 10 and above.</p>
                    
                    <div class="example-box">
                        <div class="example-label">Example 5.02a</div>
                        <p>The committee has <strong>seven</strong> members.</p>
                        <p>The department hired <strong>15</strong> new employees.</p>
                    </div>
                    
                    <h3>Exceptions and Special Cases</h3>
                    
                    <h4>Large Round Numbers</h4>
                    <p>You may spell out large round numbers for readability:</p>
                    <ul>
                        <li>two thousand (or 2,000)</li>
                        <li>three million (or 3,000,000)</li>
                        <li>four and a half billion (or 4.5 billion)</li>
                    </ul>
                    
                    <h4>Approximations</h4>
                    <p>Spell out approximate numbers:</p>
                    <div class="example-box">
                        <div class="example-label">Example 5.02b</div>
                        <p>About <strong>two hundred</strong> people attended.</p>
                        <p>The project took nearly <strong>three years</strong>.</p>
                        <p>We received <strong>hundreds</strong> of applications.</p>
                    </div>
                    
                    <h4>Indefinite Numbers</h4>
                    <p>Always spell out indefinite expressions:</p>
                    <ul>
                        <li>thousands of birds</li>
                        <li>dozens of times</li>
                        <li>millions of dollars</li>
                        <li>a few hundred participants</li>
                    </ul>
                    
                    <h3>Numbers in Dialogue</h3>
                    <p>In quoted speech, spell out numbers as they would be spoken:</p>
                    <div class="example-box">
                        <div class="example-label">Example 5.02c</div>
                        <p>"I'll be there in <strong>twenty minutes</strong>," she said.</p>
                        <p>"The temperature dropped to <strong>minus thirty</strong> last night!"</p>
                    </div>
                </div>
                
                <div class="quiz-panel" id="quiz-round-numbers"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('round-numbers')">
                        Mark Complete & Continue
                    </button>
                </div>
            </section>

            <!-- Section 5.03: Consistency -->
            <section class="content-section" id="consistency">
                <div class="section-header">
                    <h2>5.03 Consistency</h2>
                </div>
                
                <div class="lesson-content">
                    <p>When numbers both above and below 10 appear in the same context, use numerals for all:</p>
                    
                    <div class="example-box">
                        <div class="example-label">Example 5.03a - Parallel Construction</div>
                        <p><strong>Inconsistent:</strong> The study included nine Canadian and 12 American cities.</p>
                        <p><strong>Consistent:</strong> The study included 9 Canadian and 12 American cities.</p>
                    </div>
                    
                    <h3>Category Consistency</h3>
                    <p>Numbers in the same category should be treated the same way:</p>
                    
                    <div class="example-box">
                        <div class="example-label">Example 5.03b</div>
                        <p>The conference attracted 8 speakers, 47 delegates, and 6 observers.</p>
                        <p class="example-note">(All are people attending, so use numerals throughout)</p>
                        <br>
                        <p>BUT: There were nine items on the agenda and refreshments at 2:00 p.m.</p>
                        <p class="example-note">(Different categories, so follow normal rules)</p>
                    </div>
                    
                    <h3>Lists and Comparisons</h3>
                    <p>In lists or comparisons, maintain consistency:</p>
                    
                    <div class="number-list">
                        <h4>Equipment needed:</h4>
                        <ul>
                            <li>5 computers</li>
                            <li>12 desks</li>
                            <li>8 chairs</li>
                            <li>1 projector</li>
                        </ul>
                    </div>
                    
                    <h3>Within Sentences</h3>
                    <p>Don't mix spelled-out numbers and numerals for the same type of item:</p>
                    
                    <div class="warning-box">
                        <h4>‚ö†Ô∏è Avoid This</h4>
                        <p>‚ùå "Send three copies to the manager and 15 to the board."</p>
                        <p>‚úì "Send 3 copies to the manager and 15 to the board."</p>
                    </div>
                </div>
                
                <div class="quiz-panel" id="quiz-consistency"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('consistency')">
                        Mark Complete & Continue
                    </button>
                </div>
            </section>

            <!-- Section 5.10: Quantities and Measures -->
            <section class="content-section" id="quantities">
                <div class="section-header">
                    <h2>5.10 Quantities and Measures</h2>
                </div>
                
                <div class="lesson-content">
                    <p>Always use numerals with units of measurement:</p>
                    
                    <h3>SI/Metric Units</h3>
                    <div class="measurement-grid">
                        <div class="measurement-category">
                            <h4>Length</h4>
                            <ul>
                                <li>5 km (kilometres)</li>
                                <li>3.2 m (metres)</li>
                                <li>15 cm (centimetres)</li>
                                <li>8 mm (millimetres)</li>
                            </ul>
                        </div>
                        
                        <div class="measurement-category">
                            <h4>Mass</h4>
                            <ul>
                                <li>2 kg (kilograms)</li>
                                <li>450 g (grams)</li>
                                <li>5 mg (milligrams)</li>
                                <li>3 t (tonnes)</li>
                            </ul>
                        </div>
                        
                        <div class="measurement-category">
                            <h4>Volume</h4>
                            <ul>
                                <li>1 L (litre)</li>
                                <li>250 mL (millilitres)</li>
                                <li>5 m¬≥ (cubic metres)</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="style-note">
                        <strong>Canadian Style Note:</strong> Leave a space between the numeral and the SI symbol: 5 km, not 5km
                    </div>
                    
                    <h3>Other Measurements</h3>
                    <ul>
                        <li><strong>Temperature:</strong> 20¬∞C, -5¬∞C (note: no space before ¬∞C)</li>
                        <li><strong>Percentages:</strong> 15 percent or 15% (be consistent)</li>
                        <li><strong>Time:</strong> 8 hours, 45 minutes, 30 seconds</li>
                        <li><strong>Age:</strong> 5 years old, a 10-year-old building</li>
                    </ul>
                    
                    <h3>Ranges</h3>
                    <p>Use an en dash for ranges with spaces when units are spelled out:</p>
                    <div class="example-box">
                        <div class="example-label">Example 5.10</div>
                        <p>5‚Äì10 km</p>
                        <p>20‚Äì25 degrees Celsius</p>
                        <p>15 to 20 percent (when spelling out)</p>
                    </div>
                    
                    <h3>In Text</h3>
                    <p>When measurements appear in narrative text:</p>
                    <ul>
                        <li>Use numerals even for numbers below 10</li>
                        <li>Don't start a sentence with a numeral</li>
                        <li>Be consistent with abbreviations vs. spelled-out units</li>
                    </ul>
                    
                    <div class="example-box">
                        <div class="example-label">Example in context</div>
                        <p>The marathon route is 42.2 km long. <strong>Five kilometres</strong> from the start, runners pass the first water station.</p>
                        <p class="example-note">(Sentence begins with spelled-out number)</p>
                    </div>
                </div>
                
                <div class="quiz-panel" id="quiz-quantities"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('quantities')">
                        Mark Complete & Continue
                    </button>
                </div>
            </section>

            <!-- Section 5.11: Money -->
            <section class="content-section" id="money">
                <div class="section-header">
                    <h2>5.11 Money</h2>
                </div>
                
                <div class="lesson-content">
                    <p>Canadian currency follows specific formatting rules:</p>
                    
                    <h3>Canadian Dollars</h3>
                    <div class="money-rules">
                        <h4>Under $1</h4>
                        <ul>
                            <li>50¬¢ or 50 cents or $0.50</li>
                            <li>Use ¬¢ symbol or spell out for amounts under a dollar</li>
                        </ul>
                        
                        <h4>Whole Dollars</h4>
                        <ul>
                            <li>$5 (not $5.00 in text)</li>
                            <li>$100</li>
                            <li>$1,500 (use comma for thousands)</li>
                        </ul>
                        
                        <h4>Dollars and Cents</h4>
                        <ul>
                            <li>$5.50</li>
                            <li>$1,234.56</li>
                            <li>$0.99 (not 99¬¢ when mixing with dollar amounts)</li>
                        </ul>
                    </div>
                    
                    <h3>Large Amounts</h3>
                    <p>For millions and billions, you can use either form:</p>
                    <div class="example-box">
                        <div class="example-label">Example 5.11a</div>
                        <p>$5 million or $5,000,000</p>
                        <p>$3.5 billion or $3,500,000,000</p>
                        <p>$250 thousand or $250,000</p>
                    </div>
                    
                    <h3>Foreign Currency</h3>
                    <p>Identify foreign currency clearly:</p>
                    <ul>
                        <li>US$100 (U.S. dollars)</li>
                        <li>‚Ç¨50 (euros)</li>
                        <li>¬£75 (British pounds)</li>
                        <li>¬•1,000 (yen)</li>
                    </ul>
                    
                    <h3>In Financial Documents</h3>
                    <div class="financial-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Context</th>
                                    <th>Format</th>
                                    <th>Example</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Financial statements</td>
                                    <td>Always show cents</td>
                                    <td>$1,500.00</td>
                                </tr>
                                <tr>
                                    <td>Cheques</td>
                                    <td>Spell out + numerals</td>
                                    <td>One thousand five hundred dollars ($1,500.00)</td>
                                </tr>
                                <tr>
                                    <td>General text</td>
                                    <td>Omit .00</td>
                                    <td>$1,500</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <h3>Money Ranges</h3>
                    <div class="example-box">
                        <div class="example-label">Example 5.11b</div>
                        <p>$50‚Äì$75 (repeat $ symbol)</p>
                        <p>$50,000 to $75,000</p>
                        <p>between $5 million and $10 million</p>
                    </div>
                </div>
                
                <div class="quiz-panel" id="quiz-money"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('money')">
                        Mark Complete & Continue
                    </button>
                </div>
            </section>

            <!-- Section 5.14: Dates -->
            <section class="content-section" id="dates">
                <div class="section-header">
                    <h2>5.14 Dates</h2>
                </div>
                
                <div class="lesson-content">
                    <p>Canadian Style recommends clear, unambiguous date formats:</p>
                    
                    <h3>Standard Formats</h3>
                    <div class="date-formats">
                        <h4>In Text</h4>
                        <ul>
                            <li><strong>Preferred:</strong> March 15, 2024</li>
                            <li><strong>Also acceptable:</strong> 15 March 2024 (day-month-year)</li>
                            <li><strong>Avoid:</strong> 3/15/24 or 15/3/24 (ambiguous)</li>
                        </ul>
                        
                        <h4>All-Numeric Dates</h4>
                        <p>When space is limited, use the ISO format:</p>
                        <ul>
                            <li><strong>ISO 8601:</strong> 2024-03-15 (year-month-day)</li>
                            <li><strong>Never use:</strong> 03/15/24 or 15/03/24</li>
                        </ul>
                    </div>
                    
                    <div class="warning-box">
                        <h4>‚ö†Ô∏è Avoid Ambiguity</h4>
                        <p>03/04/24 could mean:</p>
                        <ul>
                            <li>March 4, 2024 (U.S. style)</li>
                            <li>April 3, 2024 (International style)</li>
                        </ul>
                        <p><strong>Solution:</strong> Always spell out the month or use ISO format</p>
                    </div>
                    
                    <h3>Date Ranges</h3>
                    <div class="example-box">
                        <div class="example-label">Example 5.14a</div>
                        <p>March 15‚Äì18, 2024</p>
                        <p>March 28 ‚Äì April 2, 2024</p>
                        <p>December 15, 2023 ‚Äì January 5, 2024</p>
                        <p>from March 15 to 18, 2024</p>
                    </div>
                    
                    <h3>Days and Months</h3>
                    <ul>
                        <li>Don't abbreviate days or months in formal text</li>
                        <li>Use ordinals only when the day stands alone: the 15th</li>
                        <li>No ordinals with month names: March 15 (not March 15th)</li>
                    </ul>
                    
                    <h3>Years</h3>
                    <ul>
                        <li>Use all four digits: 2024 (not '24)</li>
                        <li>Academic/fiscal years: 2023‚Äì2024 or 2023‚Äì24</li>
                        <li>Decades: the 1990s or the nineties (not the 1990's)</li>
                        <li>Centuries: the 21st century, the twenty-first century</li>
                    </ul>
                    
                    <h3>Historical Dates</h3>
                    <div class="example-box">
                        <div class="example-label">Example 5.14b</div>
                        <p>July 1, 1867 (Confederation)</p>
                        <p>11 November 1918 (Armistice Day)</p>
                        <p>circa 1850 or c. 1850</p>
                        <p>450 BC (or BCE)</p>
                        <p>AD 1066 (or 1066 CE)</p>
                    </div>
                </div>
                
                <div class="quiz-panel" id="quiz-dates"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('dates')">
                        Complete Chapter
                    </button>
                </div>
            </section>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>&copy; 2024 Government of Canada. Based on <em>The Canadian Style</em> (1997 revised edition)</p>
        </div>
    </footer>

    <style>
        /* Additional styles for Numbers chapter */
        .measurement-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--cs-space-xl);
            margin: var(--cs-space-xl) 0;
        }
        
        .measurement-category {
            background: var(--cs-grey-100);
            padding: var(--cs-space-l);
            border-radius: 8px;
        }
        
        .measurement-category h4 {
            color: var(--cs-red);
            margin-bottom: var(--cs-space-m);
        }
        
        .measurement-category ul {
            list-style: none;
            padding: 0;
        }
        
        .measurement-category li {
            padding: var(--cs-space-xs) 0;
            font-family: monospace;
            font-size: 1.1rem;
        }
        
        .money-rules h4 {
            color: var(--cs-red);
            margin-top: var(--cs-space-l);
            margin-bottom: var(--cs-space-s);
        }
        
        .money-rules h4:first-child {
            margin-top: 0;
        }
        
        .financial-table table {
            width: 100%;
            border-collapse: collapse;
            margin: var(--cs-space-l) 0;
        }
        
        .financial-table th,
        .financial-table td {
            padding: var(--cs-space-m);
            border: 1px solid var(--cs-grey-300);
            text-align: left;
        }
        
        .financial-table th {
            background: var(--cs-grey-100);
            font-weight: var(--cs-font-bold);
        }
        
        .date-formats {
            background: var(--cs-grey-100);
            padding: var(--cs-space-l);
            border-radius: 8px;
            margin: var(--cs-space-l) 0;
        }
        
        .date-formats h4 {
            color: var(--cs-red);
            margin-bottom: var(--cs-space-s);
        }
        
        .number-list {
            background: var(--cs-grey-100);
            padding: var(--cs-space-l);
            border-radius: 8px;
            margin: var(--cs-space-l) 0;
        }
        
        .number-list h4 {
            margin-bottom: var(--cs-space-m);
            color: var(--cs-red);
        }
    </style>

    <script type="module">
        import { router } from '../shared/js/router.js';
        import { getProgress, setProgress } from '../shared/js/progress.js';
        import { QuizEngine, loadQuizData } from '../shared/js/quiz-engine.js';
        import '../shared/js/components.js';
        
        const CHAPTER_ID = 'ch05';
        const sections = [
            { id: 'introduction', title: '5.01 Introduction' },
            { id: 'round-numbers', title: '5.02 Round Numbers' },
            { id: 'consistency', title: '5.03 Consistency' },
            { id: 'initial', title: '5.04 Initial Numbers' },
            { id: 'quantities', title: '5.10 Quantities' },
            { id: 'money', title: '5.11 Money' },
            { id: 'time', title: '5.12-5.13 Time' },
            { id: 'dates', title: '5.14 Dates' }
        ];
        
        // Initialize progress bar
        function updateProgressBar() {
            const progress = getProgress();
            const chapterProgress = progress[CHAPTER_ID] || {};
            const completed = Object.values(chapterProgress).filter(Boolean).length;
            const percentage = Math.round((completed / sections.length) * 100);
            
            document.getElementById('chapterProgress').style.width = percentage + '%';
        }
        
        // Mark section as complete
        window.completeSection = function(sectionId) {
            setProgress(CHAPTER_ID, sectionId, true);
            updateProgressBar();
            
            // Navigate to next section
            const currentIndex = sections.findIndex(s => s.id === sectionId);
            if (currentIndex < sections.length - 1) {
                const nextSection = sections[currentIndex + 1];
                router.navigateTo(CHAPTER_ID, nextSection.id);
            } else {
                // Chapter complete
                showCompletionModal();
            }
        };
        
        function showCompletionModal() {
            const modal = document.createElement('div');
            modal.className = 'completion-modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-icon">üî¢</div>
                    <h2>Numbers Mastered!</h2>
                    <p>You now know how to handle all numerical expressions in Canadian English.</p>
                    <div class="modal-stats">
                        <div class="stat">
                            <span class="stat-value">8</span>
                            <span class="stat-label">Sections Completed</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value">100%</span>
                            <span class="stat-label">Numerically Literate</span>
                        </div>
                    </div>
                    <div class="modal-actions">
                        <a href="../index.html" class="btn btn-secondary">Back to Dashboard</a>
                        <button class="btn btn-primary" onclick="window.location.href='ch06-italics.html'">
                            Next Chapter
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        // Load quizzes
        async function loadSectionQuizzes() {
            const quizData = {
                'round-numbers': {
                    id: 'numbers-quiz',
                    title: 'Spelling vs Numerals',
                    chapterId: CHAPTER_ID,
                    sectionId: 'round-numbers',
                    questions: [
                        {
                            type: 'mcq',
                            stem: 'Which is correct according to the basic rule?',
                            options: [
                                { label: 'The committee has 7 members.', correct: false },
                                { label: 'The committee has seven members.', correct: true },
                                { label: 'The committee has VII members.', correct: false },
                                { label: 'Both A and B are correct.', correct: false }
                            ],
                            rationale: 'Spell out numbers one through nine in ordinary text.',
                            ref: '¬ß5.02'
                        }
                    ]
                },
                money: {
                    id: 'money-quiz',
                    title: 'Formatting Currency',
                    chapterId: CHAPTER_ID,
                    sectionId: 'money',
                    questions: [
                        {
                            type: 'fill-blank',
                            stem: 'The book costs ___',
                            answer: '$25',
                            alternatives: ['$25.00', '25 dollars'],
                            rationale: 'For whole dollar amounts in text, use $25 not $25.00',
                            ref: '¬ß5.11'
                        }
                    ]
                }
            };
            
            // Initialize quizzes
            for (const section of sections) {
                const quiz = quizData[section.id];
                if (quiz) {
                    const container = document.getElementById(`quiz-${section.id}`);
                    if (container) {
                        const engine = new QuizEngine(`quiz-${section.id}`, quiz);
                        engine.init();
                    }
                }
            }
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateProgressBar();
            loadSectionQuizzes();
            
            if (!window.location.hash) {
                router.navigateTo(CHAPTER_ID, 'introduction');
            }
        });
        
        window.addEventListener('progress-changed', updateProgressBar);
    </script>
</body>
</html>