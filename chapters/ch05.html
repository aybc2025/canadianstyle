<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 5: Numerical Expressions - The Canadian Style</title>
    <link rel="stylesheet" href="../shared/css/main.css">
    <link rel="stylesheet" href="../shared/css/quiz-styles.css">
</head>
<body>
    <header class="site-header">
        <div class="container">
            <div class="logo-wrapper">
                <img src="../shared/img/maple-logo.svg" alt="Canadian Style Logo" class="logo">
                <h1>The Canadian Style</h1>
            </div>
            <nav class="chapter-nav">
                <a href="../index.html" class="btn btn-secondary">Back to Dashboard</a>
            </nav>
        </div>
    </header>

    <div class="chapter-hero">
        <div class="container">
            <nav class="breadcrumb">
                <a href="../index.html">Home</a> / Chapter 5
            </nav>
            <div class="chapter-meta">
                <div class="chapter-icon">5</div>
                <div class="chapter-info">
                    <h1>Numerical Expressions</h1>
                    <p>Master the rules for writing numbers in Canadian style</p>
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="chapterProgress" style="width: 0%"></div>
            </div>
        </div>
    </div>

    <nav class="section-tabs" id="sectionNav">
        <div class="container">
            <div class="tabs-list">
                <a href="#basic-rules" class="tab-link active" data-section="basic-rules">5.01 Basic Rules</a>
                <a href="#sentence-beginning" class="tab-link" data-section="sentence-beginning">5.02 Sentence Beginning</a>
                <a href="#money-measurements" class="tab-link" data-section="money-measurements">5.03 Money & Measurements</a>
                <a href="#dates-time" class="tab-link" data-section="dates-time">5.04 Dates & Time</a>
                <a href="#percentages-statistics" class="tab-link" data-section="percentages-statistics">5.05 Percentages & Statistics</a>
                <a href="#special-applications" class="tab-link" data-section="special-applications">5.06 Special Applications</a>
            </div>
        </div>
    </nav>

    <main class="chapter-content">
        <div class="container">
            <!-- Section 5.01: Basic Rules -->
            <section class="content-section active" id="basic-rules">
                <div class="section-header">
                    <h2>5.01 Basic Rules</h2>
                </div>
                
                <div class="lesson-content">
                    <div class="info-box">
                        <h3>ðŸ”¢ Numbers in Professional Writing</h3>
                        <p>Consistent number formatting enhances readability and professionalism in all documents.</p>
                    </div>

                    <h3>The Ten Rule</h3>
                    <div class="rule-box">
                        <ul>
                            <li><strong>Spell out:</strong> Numbers one through ten</li>
                            <li><strong>Use numerals:</strong> Numbers 11 and above</li>
                            <li><strong>Consistency:</strong> If any number in a series is above 10, use numerals for all</li>
                        </ul>
                    </div>
                    
                    <div class="examples-box">
                        <h4>Basic Number Examples</h4>
                        <div class="example-item good">
                            <p><strong>âœ“ Correct:</strong> "We have five employees and 15 contractors."</p>
                        </div>
                        <div class="example-item good">
                            <p><strong>âœ“ Series consistency:</strong> "We ordered 8, 12, and 25 computers."</p>
                        </div>
                        <div class="example-item bad">
                            <p><strong>âœ— Incorrect:</strong> "We ordered eight, 12, and twenty-five computers."</p>
                        </div>
                    </div>
                    
                    <div class="rule-box">
                        <h3>Special Situations</h3>
                        <ul>
                            <li><strong>Technical writing:</strong> Often uses numerals for all numbers</li>
                            <li><strong>Legal documents:</strong> May spell out numbers and include numerals in parentheses</li>
                            <li><strong>Large numbers:</strong> Use numerals (1,000; 2.5 million)</li>
                        </ul>
                    </div>
                </div>
                
                <div class="quiz-panel" id="quiz-basic-rules"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('basic-rules')">
                        Mark Complete & Continue
                    </button>
                </div>
            </section>

            <!-- Section 5.02: Sentence Beginning -->
            <section class="content-section" id="sentence-beginning">
                <div class="section-header">
                    <h2>5.02 Sentence Beginning</h2>
                </div>
                
                <div class="lesson-content">
                    <p>Numbers at the beginning of sentences require special treatment for readability and style.</p>
                    
                    <div class="rule-box">
                        <h3>Starting Sentences with Numbers</h3>
                        <ul>
                            <li><strong>Always spell out:</strong> Numbers that begin sentences</li>
                            <li><strong>Better option:</strong> Rewrite to avoid starting with a number</li>
                            <li><strong>Exception:</strong> Years can start sentences as numerals</li>
                        </ul>
                    </div>
                    
                    <div class="examples-box">
                        <h4>Sentence Beginning Examples</h4>
                        <div class="example-item good">
                            <p><strong>âœ“ Spelled out:</strong> "Twenty-five people attended the meeting."</p>
                        </div>
                        <div class="example-item better">
                            <p><strong>âœ“ Better:</strong> "The meeting was attended by 25 people."</p>
                        </div>
                        <div class="example-item good">
                            <p><strong>âœ“ Year exception:</strong> "2024 was a successful year."</p>
                        </div>
                        <div class="example-item bad">
                            <p><strong>âœ— Incorrect:</strong> "25 people attended the meeting."</p>
                        </div>
                    </div>
                    
                    <div class="tip-box">
                        <h4>ðŸ’¡ Professional Tip</h4>
                        <p>When you must spell out a large number at the beginning of a sentence, consider rewording to improve flow and readability.</p>
                    </div>
                </div>
                
                <div class="quiz-panel" id="quiz-sentence-beginning"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('sentence-beginning')">
                        Mark Complete & Continue
                    </button>
                </div>
            </section>

            <!-- Section 5.03: Money & Measurements -->
            <section class="content-section" id="money-measurements">
                <div class="section-header">
                    <h2>5.03 Money & Measurements</h2>
                </div>
                
                <div class="lesson-content">
                    <p>Financial figures and measurements have specific formatting conventions in Canadian writing.</p>
                    
                    <div class="rule-box">
                        <h3>Money Formatting</h3>
                        <ul>
                            <li><strong>Dollar amounts:</strong> $5, $25, $100 (use numerals with symbol)</li>
                            <li><strong>Cents alone:</strong> 50 cents or 50Â¢</li>
                            <li><strong>Large amounts:</strong> $2.5 million, $1.2 billion</li>
                            <li><strong>Exact amounts:</strong> $19.95, not $19.95 dollars</li>
                        </ul>
                    </div>
                    
                    <div class="rule-box">
                        <h3>Measurements & Units</h3>
                        <ul>
                            <li><strong>Metric system:</strong> 5 km, 25 kg, 100 mL</li>
                            <li><strong>Imperial system:</strong> 5 feet, 10 pounds, 3 inches</li>
                            <li><strong>Always use numerals:</strong> With units of measurement</li>
                            <li><strong>Space:</strong> Include space between number and unit</li>
                        </ul>
                    </div>
                    
                    <div class="examples-box">
                        <h4>Money & Measurement Examples</h4>
                        <div class="currency-examples">
                            <h5>Currency</h5>
                            <ul>
                                <li>$5 (not five dollars)</li>
                                <li>$1.50 (not $1.50 dollars)</li>
                                <li>50 cents or 50Â¢</li>
                                <li>$2.3 million</li>
                            </ul>
                        </div>
                        
                        <div class="measurement-examples">
                            <h5>Measurements</h5>
                            <ul>
                                <li>15 cm (not fifteen centimetres)</li>
                                <li>2.5 kg</li>
                                <li>100 km/h</li>
                                <li>3 feet 2 inches</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="quiz-panel" id="quiz-money-measurements"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('money-measurements')">
                        Mark Complete & Continue
                    </button>
                </div>
            </section>

            <!-- Section 5.04: Dates & Time -->
            <section class="content-section" id="dates-time">
                <div class="section-header">
                    <h2>5.04 Dates & Time</h2>
                </div>
                
                <div class="lesson-content">
                    <p>Dates and times follow specific conventions in Canadian writing for clarity and consistency.</p>
                    
                    <div class="rule-box">
                        <h3>Date Formats</h3>
                        <ul>
                            <li><strong>Standard format:</strong> March 15, 2024</li>
                            <li><strong>International format:</strong> 2024-03-15 (ISO standard)</li>
                            <li><strong>Avoid:</strong> 03/15/2024 (ambiguous internationally)</li>
                            <li><strong>Decades:</strong> the 1990s, the '90s</li>
                        </ul>
                    </div>
                    
                    <div class="rule-box">
                        <h3>Time Formats</h3>
                        <ul>
                            <li><strong>12-hour format:</strong> 2:30 p.m., 9:00 a.m.</li>
                            <li><strong>24-hour format:</strong> 14:30, 09:00 (military/technical)</li>
                            <li><strong>On the hour:</strong> 3 p.m. (not 3:00 p.m. unless needed for precision)</li>
                            <li><strong>Time zones:</strong> 2:30 p.m. EST</li>
                        </ul>
                    </div>
                    
                    <div class="examples-box">
                        <h4>Date & Time Examples</h4>
                        <div class="date-time-grid">
                            <div class="date-examples">
                                <h5>Dates</h5>
                                <ul>
                                    <li>January 1, 2024</li>
                                    <li>2024-01-01</li>
                                    <li>the 1990s</li>
                                    <li>21st century</li>
                                </ul>
                            </div>
                            
                            <div class="time-examples">
                                <h5>Times</h5>
                                <ul>
                                    <li>9:30 a.m.</li>
                                    <li>2 p.m.</li>
                                    <li>12:00 noon</li>
                                    <li>12:00 midnight</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="month-abbreviations">
                        <h4>Month Abbreviations</h4>
                        <div class="months-grid">
                            <div class="month-pair">
                                <span class="full">January</span>
                                <span class="abbrev">Jan.</span>
                            </div>
                            <div class="month-pair">
                                <span class="full">February</span>
                                <span class="abbrev">Feb.</span>
                            </div>
                            <div class="month-pair">
                                <span class="full">March</span>
                                <span class="abbrev">Mar.</span>
                            </div>
                            <div class="month-pair">
                                <span class="full">April</span>
                                <span class="abbrev">Apr.</span>
                            </div>
                            <div class="month-pair">
                                <span class="full">May</span>
                                <span class="abbrev">May</span>
                            </div>
                            <div class="month-pair">
                                <span class="full">June</span>
                                <span class="abbrev">June</span>
                            </div>
                            <div class="month-pair">
                                <span class="full">July</span>
                                <span class="abbrev">July</span>
                            </div>
                            <div class="month-pair">
                                <span class="full">August</span>
                                <span class="abbrev">Aug.</span>
                            </div>
                            <div class="month-pair">
                                <span class="full">September</span>
                                <span class="abbrev">Sept.</span>
                            </div>
                            <div class="month-pair">
                                <span class="full">October</span>
                                <span class="abbrev">Oct.</span>
                            </div>
                            <div class="month-pair">
                                <span class="full">November</span>
                                <span class="abbrev">Nov.</span>
                            </div>
                            <div class="month-pair">
                                <span class="full">December</span>
                                <span class="abbrev">Dec.</span>
                            </div>
                        </div>
                        <p class="note">Note: May, June, and July are not abbreviated in text.</p>
                    </div>
                </div>
                
                <div class="quiz-panel" id="quiz-dates-time"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('dates-time')">
                        Mark Complete & Continue
                    </button>
                </div>
            </section>

            <!-- Section 5.05: Percentages & Statistics -->
            <section class="content-section" id="percentages-statistics">
                <div class="section-header">
                    <h2>5.05 Percentages & Statistics</h2>
                </div>
                
                <div class="lesson-content">
                    <p>Statistical data and percentages require precise formatting for clarity and professionalism.</p>
                    
                    <div class="rule-box">
                        <h3>Percentage Rules</h3>
                        <ul>
                            <li><strong>Always use numerals:</strong> 5%, 25%, 100%</li>
                            <li><strong>No space:</strong> Between number and % symbol</li>
                            <li><strong>Spelled out:</strong> "percent" in formal writing (optional)</li>
                            <li><strong>Fractions:</strong> 0.5% or half a percent</li>
                        </ul>
                    </div>
                    
                    <div class="rule-box">
                        <h3>Statistical Data</h3>
                        <ul>
                            <li><strong>Ratios:</strong> 3:1 ratio or 3 to 1</li>
                            <li><strong>Decimals:</strong> 2.5 times, 1.75 million</li>
                            <li><strong>Fractions:</strong> one-half, three-quarters (spelled) or Â½, Â¾ (symbols)</li>
                            <li><strong>Ranges:</strong> 15â€“20%, 10 to 15 people</li>
                        </ul>
                    </div>
                    
                    <div class="examples-box">
                        <h4>Statistical Examples</h4>
                        <div class="stats-grid">
                            <div class="percentage-examples">
                                <h5>Percentages</h5>
                                <ul>
                                    <li>25% increase</li>
                                    <li>half a percent</li>
                                    <li>100% completion</li>
                                    <li>0.5% margin</li>
                                </ul>
                            </div>
                            
                            <div class="ratio-examples">
                                <h5>Ratios & Proportions</h5>
                                <ul>
                                    <li>3:1 ratio</li>
                                    <li>2 to 1 odds</li>
                                    <li>one-third majority</li>
                                    <li>2.5 times larger</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="age-references">
                        <h4>Age References</h4>
                        <div class="age-categories">
                            <div class="age-category">
                                <h5>Specific Ages</h5>
                                <ul>
                                    <li>She is 25 years old</li>
                                    <li>a 5-year-old child</li>
                                    <li>employees aged 18 to 65</li>
                                </ul>
                            </div>
                            
                            <div class="age-category">
                                <h5>General Age References</h5>
                                <ul>
                                    <li>people in their twenties</li>
                                    <li>a man in his fifties</li>
                                    <li>children under ten</li>
                                </ul>
                            </div>
                            
                            <div class="age-category">
                                <h5>Anniversaries and Milestones</h5>
                                <ul>
                                    <li>25th anniversary</li>
                                    <li>50th birthday</li>
                                    <li>10th annual conference</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="quiz-panel" id="quiz-percentages-statistics"></div>
                
                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('percentages-statistics')">
                        Mark Complete & Continue
                    </button>
                </div>
            </section>

            <!-- Section 5.06: Special Applications -->
            <section class="content-section" id="special-applications">
                <div class="section-header">
                    <h2>5.06 Special Applications</h2>
                </div>
                
                <div class="lesson-content">
                    <p>Certain contexts require special number formatting conventions beyond the basic rules.</p>
                    
                    <div class="document-refs">
                        <h3>Document References</h3>
                        <div class="ref-categories">
                            <div class="ref-category">
                                <h4>Page Numbers</h4>
                                <ul>
                                    <li>page 15</li>
                                    <li>pages 20-25</li>
                                    <li>see page 5</li>
                                </ul>
                            </div>
                            
                            <div class="ref-category">
                                <h4>Chapter and Section Numbers</h4>
                                <ul>
                                    <li>Chapter 3</li>
                                    <li>Section 4.2</li>
                                    <li>Appendix B</li>
                                </ul>
                            </div>
                            
                            <div class="ref-category">
                                <h4>Figure and Table Numbers</h4>
                                <ul>
                                    <li>Figure 12</li>
                                    <li>Table 3.4</li>
                                    <li>Chart 8</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <h3>Technical and Scientific Contexts</h3>
                    <div class="technical-contexts">
                        <div class="tech-category">
                            <h4>Scientific Notation</h4>
                            <ul>
                                <li>3.2 Ã— 10<sup>6</sup></li>
                                <li>1.5 Ã— 10<sup>-3</sup></li>
                                <li>2.4 Ã— 10<sup>12</sup></li>
                            </ul>
                        </div>
                        
                        <div class="tech-category">
                            <h4>Model and Version Numbers</h4>
                            <ul>
                                <li>Version 2.1</li>
                                <li>Model X250</li>
                                <li>iPhone 14</li>
                            </ul>
                        </div>
                        
                        <div class="tech-category">
                            <h4>Mathematical Expressions</h4>
                            <ul>
                                <li>The equation x + 5 = 12</li>
                                <li>A 45-degree angle</li>
                                <li>Temperature of -10Â°C</li>
                            </ul>
                        </div>
                    </div>

                    <h3>Sports and Competition</h3>
                    <div class="sports-numbers">
                        <div class="sports-category">
                            <h4>Scores</h4>
                            <ul>
                                <li>The final score was 3-2</li>
                                <li>won 21 to 18</li>
                                <li>a 5-4 victory</li>
                            </ul>
                        </div>
                        
                        <div class="sports-category">
                            <h4>Rankings and Statistics</h4>
                            <ul>
                                <li>ranked 3rd in the league</li>
                                <li>scored 25 points</li>
                                <li>batting .325</li>
                            </ul>
                        </div>
                    </div>

                    <div class="success-box">
                        <h4>ðŸŽ‰ Numbers Mastery</h4>
                        <p>You've mastered the comprehensive rules for numerical expressions in Canadian writing. Your documents will now communicate data clearly and follow professional standards consistently.</p>
                    </div>
                </div>

                <div class="quiz-panel" id="quiz-special-applications"></div>

                <div class="section-footer">
                    <button class="btn btn-primary" onclick="completeSection('special-applications')">
                        Complete Chapter 5!
                    </button>
                </div>
            </section>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>&copy; 2024 Government of Canada. Based on <em>The Canadian Style</em> (1997 revised edition)</p>
        </div>
    </footer>

    <!-- Include JavaScript modules -->
    <script type="module" src="../shared/js/router.js"></script>
    <script type="module" src="../shared/js/quiz-engine.js"></script>
    <script type="module" src="../shared/js/progress.js"></script>
    <script type="module" src="../shared/js/components.js"></script>

    <script type="module">
        import { router } from '../shared/js/router.js';
        import { getChapterProgress, setProgress } from '../shared/js/progress.js';
        import { QuizEngine } from '../shared/js/quiz-engine.js';
        
        const CHAPTER_ID = 'ch05';
        const sections = [
            { id: 'basic-rules', title: '5.01 Basic Rules' },
            { id: 'sentence-beginning', title: '5.02 Sentence Beginning' },
            { id: 'money-measurements', title: '5.03 Money & Measurements' },
            { id: 'dates-time', title: '5.04 Dates & Time' },
            { id: 'percentages-statistics', title: '5.05 Percentages & Statistics' },
            { id: 'special-applications', title: '5.06 Special Applications' }
        ];
        
        // Initialize router
        router.init(CHAPTER_ID, sections);
        
        // Update progress bar
        function updateProgressBar() {
            const chapterProgress = getChapterProgress(CHAPTER_ID);
            const completed = Object.values(chapterProgress).filter(Boolean).length;
            const percentage = Math.round((completed / sections.length) * 100);
            
            const progressBar = document.getElementById('chapterProgress');
            if (progressBar) {
                progressBar.style.width = percentage + '%';
            }
        }
        
        // Mark section as complete
        window.completeSection = function(sectionId) {
            setProgress(CHAPTER_ID, sectionId, true);
            updateProgressBar();
            
            // Navigate to next section
            const currentIndex = sections.findIndex(s => s.id === sectionId);
            if (currentIndex < sections.length - 1) {
                const nextSection = sections[currentIndex + 1];
                router.navigateTo(CHAPTER_ID, nextSection.id);
            } else {
                // Chapter complete
                showCompletionModal();
            }
        };

       async function loadSectionQuizzes() {
    try {
        const response = await fetch(`../data/ch05-quiz.json`);
        if (!response.ok) {
            console.warn('Quiz data not available for chapter 5');
            return;
        }
        
        const quizData = await response.json();
        
        sections.forEach(section => {
            const sectionQuizData = quizData.sections?.[section.id];
            if (sectionQuizData && sectionQuizData.questions) {
                const quizContainer = document.getElementById(`quiz-${section.id}`);
                if (quizContainer) {
                    const quizEngine = new QuizEngine(sectionQuizData, CHAPTER_ID, section.id);
                    quizEngine.render(quizContainer);
                }
            }
        });
    } catch (error) {
        console.warn('Error loading quiz data:', error);
    }
} 
        
        function showCompletionModal() {
            const modal = document.createElement('div');
            modal.className = 'completion-modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <h3>ðŸŽ‰ Chapter 5 Complete!</h3>
                    <p>You've mastered numerical expressions in Canadian writing!</p>
                    <div class="modal-actions">
                        <button class="btn btn-outline" onclick="this.closest('.completion-modal').remove()">
                            Stay Here
                        </button>
                        <a href="../index.html" class="btn btn-primary">
                            Back to Dashboard
                        </a>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateProgressBar();
    loadSectionQuizzes();
        });
    </script>
</body>
</html>
